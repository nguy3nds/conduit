{"ast":null,"code":"var _jsxFileName = \"/Users/nguyencanhnguyen/Public/Development/condi-app/src/pages/Profile/components/ArticlesPreview/index.tsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { favoritedArticles, myArticles } from \"../../apis\";\nimport { useRouteMatch } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport ArticlePreview from \"../../../Home/components/ArticlePreview\";\nimport { LIMIT } from \"../../../../constant\";\nimport { Row } from \"react-bootstrap\";\nimport Paginate from \"../../../../components/Paginate\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ArticlesPreview({\n  slug\n}) {\n  _s();\n\n  const [articles, setArticles] = useState([]);\n  const token = window.localStorage.getItem(\"jwtToken\");\n  const user = useSelector(state => state.user.data);\n  const {\n    url\n  } = useRouteMatch();\n  const [selected, setSelected] = useState(\"My\");\n  const [count, setCount] = useState(0);\n  const [offset, setOffset] = useState(0);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    setOffset((currentPage - 1) * LIMIT);\n  }, [currentPage]);\n\n  const handleClickYourFeed = () => {\n    setSelected(\"My\");\n    setLoading(true);\n    setCurrentPage(1);\n  };\n\n  const handleClickGlobalFeed = () => {\n    setSelected(\"Favorited\");\n    setLoading(true);\n    setCurrentPage(1);\n  };\n\n  useEffect(() => {\n    switch (selected) {\n      case \"My\":\n        myArticles(slug, token, offset).then(res => {\n          setArticles(res.data.articles);\n          setCount(res.data.articlesCount);\n          setLoading(false);\n        });\n        break;\n\n      case \"Favorited\":\n        favoritedArticles(slug, token, offset).then(res => {\n          setArticles(res.data.articles);\n          setCount(res.data.articlesCount);\n          setLoading(false);\n        });\n        break;\n\n      default:\n        break;\n    }\n  }, [selected, offset, token, slug]);\n\n  const onSelectedPage = pageNum => {\n    setCurrentPage(pageNum);\n    setLoading(true);\n  };\n\n  const onPrev = () => {\n    setCurrentPage(currentPage - 1);\n    setLoading(true);\n  };\n\n  const onNext = () => {\n    setCurrentPage(currentPage + 1);\n    setLoading(true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-xs-12 col-md-10 offset-md-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"articles-toggle\",\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"nav nav-pills outline-active\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"nav-item\",\n              children: /*#__PURE__*/_jsxDEV(NavLink, {\n                className: selected === \"My\" ? \"nav-link active\" : \"nav-link\",\n                to: url,\n                activeClassName: \"selected\",\n                onClick: handleClickYourFeed,\n                children: slug === user.username ? \"My articles\" : `${slug.charAt(0).toUpperCase()}${slug.slice(1)}'s articles`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"nav-item\",\n              children: /*#__PURE__*/_jsxDEV(NavLink, {\n                className: selected === \"Favorited\" ? \"nav-link active\" : \"nav-link\",\n                to: url,\n                activeClassName: \"selected\",\n                onClick: handleClickGlobalFeed,\n                children: \"Favorited articles\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(ArticlePreview, {\n            feeds: articles\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 15\n          }, this), count > LIMIT && /*#__PURE__*/_jsxDEV(Row, {\n            style: {\n              display: \"flex\",\n              justifyContent: \"center\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Paginate, {\n              pageNumber: Math.ceil(count / LIMIT),\n              currentPage: currentPage,\n              onSelectPage: onSelectedPage,\n              handlePrev: onPrev,\n              handleNext: onNext\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ArticlesPreview, \"D6VqpRgBFH5Mh1/CC9OPGaW8rzY=\", false, function () {\n  return [useSelector, useRouteMatch];\n});\n\n_c = ArticlesPreview;\n\nvar _c;\n\n$RefreshReg$(_c, \"ArticlesPreview\");","map":{"version":3,"sources":["/Users/nguyencanhnguyen/Public/Development/condi-app/src/pages/Profile/components/ArticlesPreview/index.tsx"],"names":["useEffect","useState","NavLink","favoritedArticles","myArticles","useRouteMatch","useSelector","ArticlePreview","LIMIT","Row","Paginate","ArticlesPreview","slug","articles","setArticles","token","window","localStorage","getItem","user","state","data","url","selected","setSelected","count","setCount","offset","setOffset","currentPage","setCurrentPage","loading","setLoading","handleClickYourFeed","handleClickGlobalFeed","then","res","articlesCount","onSelectedPage","pageNum","onPrev","onNext","username","charAt","toUpperCase","slice","display","justifyContent","Math","ceil"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { favoritedArticles, myArticles } from \"../../apis\";\nimport { useRouteMatch } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport ArticlePreview from \"../../../Home/components/ArticlePreview\";\nimport { RootState } from \"../../../..\";\nimport { LIMIT } from \"../../../../constant\";\nimport { Row } from \"react-bootstrap\";\nimport Paginate from \"../../../../components/Paginate\";\nimport { Article } from \"../../../../interfaces\";\n\nexport default function ArticlesPreview({ slug }: { slug: string }) {\n  const [articles, setArticles] = useState<Article[]>([]);\n  const token = window.localStorage.getItem(\"jwtToken\");\n  const user = useSelector((state: RootState) => state.user.data);\n  const { url } = useRouteMatch();\n  const [selected, setSelected] = useState<string>(\"My\");\n\n  const [count, setCount] = useState(0);\n  const [offset, setOffset] = useState(0);\n  const [currentPage, setCurrentPage] = useState<number>(1);\n\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    setOffset((currentPage - 1) * LIMIT);\n  }, [currentPage]);\n\n  const handleClickYourFeed = () => {\n    setSelected(\"My\");\n    setLoading(true);\n    setCurrentPage(1);\n  };\n\n  const handleClickGlobalFeed = () => {\n    setSelected(\"Favorited\");\n    setLoading(true);\n    setCurrentPage(1);\n  };\n\n  useEffect(() => {\n    switch (selected) {\n      case \"My\":\n        myArticles(slug, token, offset).then((res) => {\n          setArticles(res.data.articles);\n          setCount(res.data.articlesCount);\n          setLoading(false);\n        });\n        break;\n\n      case \"Favorited\":\n        favoritedArticles(slug, token, offset).then((res) => {\n          setArticles(res.data.articles);\n          setCount(res.data.articlesCount);\n          setLoading(false);\n        });\n        break;\n\n      default:\n        break;\n    }\n  }, [selected, offset, token, slug]);\n\n  const onSelectedPage = (pageNum: number) => {\n    setCurrentPage(pageNum);\n    setLoading(true);\n  };\n\n  const onPrev = () => {\n    setCurrentPage(currentPage - 1);\n    setLoading(true);\n  };\n\n  const onNext = () => {\n    setCurrentPage(currentPage + 1);\n    setLoading(true);\n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"row\">\n        <div className=\"col-xs-12 col-md-10 offset-md-1\">\n          <div className=\"articles-toggle\">\n            <ul className=\"nav nav-pills outline-active\">\n              {\n                <li className=\"nav-item\">\n                  <NavLink\n                    className={\n                      selected === \"My\" ? \"nav-link active\" : \"nav-link\"\n                    }\n                    to={url}\n                    activeClassName=\"selected\"\n                    onClick={handleClickYourFeed}\n                  >\n                    {slug === user.username\n                      ? \"My articles\"\n                      : `${slug.charAt(0).toUpperCase()}${slug.slice(\n                          1\n                        )}'s articles`}\n                  </NavLink>\n                </li>\n              }\n              <li className=\"nav-item\">\n                <NavLink\n                  className={\n                    selected === \"Favorited\" ? \"nav-link active\" : \"nav-link\"\n                  }\n                  to={url}\n                  activeClassName=\"selected\"\n                  onClick={handleClickGlobalFeed}\n                >\n                  Favorited articles\n                </NavLink>\n              </li>\n            </ul>\n          </div>\n          {loading ? (\n            <div>Loading...</div>\n          ) : (\n            <div>\n              <ArticlePreview feeds={articles} />\n              {count > LIMIT && (\n                <Row style={{ display: \"flex\", justifyContent: \"center\" }}>\n                  <Paginate\n                    pageNumber={Math.ceil(count / LIMIT)}\n                    currentPage={currentPage}\n                    onSelectPage={onSelectedPage}\n                    handlePrev={onPrev}\n                    handleNext={onNext}\n                  />\n                </Row>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}