{"ast":null,"code":"var _jsxFileName = \"/Users/nguyencanhnguyen/Public/Development/condi-app/src/pages/Profile/components/ProfileInformation/index.tsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router\";\nimport { IMG_NOAVATAR } from \"../../../../constant\";\nimport { deleteFollowing, postFollowing } from \"../../../Articles/apis\";\nimport { getProfile } from \"../../apis\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ProfileInformation({\n  slug\n}) {\n  _s();\n\n  const user = useSelector(state => state.user.data);\n  const [focusUser, setFocusUser] = useState();\n  const history = useHistory();\n  const token = window.localStorage.getItem(\"jwtToken\");\n  useEffect(() => {\n    getProfile(token, slug).then(res => {\n      setFocusUser(res.data.profile);\n    });\n  }, [slug, token]);\n\n  const handleClickEdit = () => {\n    history.push(\"/settings\");\n  };\n\n  const handleFollow = () => {\n    if (focusUser === null || focusUser === void 0 ? void 0 : focusUser.following) {\n      deleteFollowing(token, focusUser === null || focusUser === void 0 ? void 0 : focusUser.username).then(res => {\n        setFocusUser(res.data.profile);\n      });\n    } else {\n      postFollowing(token, focusUser === null || focusUser === void 0 ? void 0 : focusUser.username).then(res => {\n        setFocusUser(res.data.profile);\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profile-page\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user-info\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-xs-12 col-md-10 offset-md-1\",\n            children: [(focusUser === null || focusUser === void 0 ? void 0 : focusUser.image) ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: focusUser === null || focusUser === void 0 ? void 0 : focusUser.image,\n              className: \"user-img\",\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n              src: IMG_NOAVATAR,\n              className: \"user-img\",\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: focusUser === null || focusUser === void 0 ? void 0 : focusUser.username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: (focusUser === null || focusUser === void 0 ? void 0 : focusUser.bio) || \"...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 15\n            }, this), user.username !== (focusUser === null || focusUser === void 0 ? void 0 : focusUser.username) ? /*#__PURE__*/_jsxDEV(\"button\", {\n              className: !(focusUser === null || focusUser === void 0 ? void 0 : focusUser.following) ? \"btn btn-sm btn-outline-primary \" : \"btn btn-sm btn-primary \",\n              onClick: handleFollow,\n              children: [(focusUser === null || focusUser === void 0 ? void 0 : focusUser.following) ? /*#__PURE__*/_jsxDEV(\"i\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"ion-plus-round\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 21\n              }, this), \"\\xA0\", \" \", (focusUser === null || focusUser === void 0 ? void 0 : focusUser.following) ? `Unfollow ${focusUser === null || focusUser === void 0 ? void 0 : focusUser.username}` : `Follow ${focusUser === null || focusUser === void 0 ? void 0 : focusUser.username}`, /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"counter\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-sm btn-outline-secondary action-btn\",\n              onClick: handleClickEdit,\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"ion-plus-round\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 19\n              }, this), \"\\xA0 Edit profile\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ProfileInformation, \"2pSguuMVOxSi2O7KlMxd6iDWEJ4=\", false, function () {\n  return [useSelector, useHistory];\n});\n\n_c = ProfileInformation;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfileInformation\");","map":{"version":3,"sources":["/Users/nguyencanhnguyen/Public/Development/condi-app/src/pages/Profile/components/ProfileInformation/index.tsx"],"names":["useEffect","useState","useSelector","useHistory","IMG_NOAVATAR","deleteFollowing","postFollowing","getProfile","ProfileInformation","slug","user","state","data","focusUser","setFocusUser","history","token","window","localStorage","getItem","then","res","profile","handleClickEdit","push","handleFollow","following","username","image","bio"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router\";\nimport { RootState } from \"../../../..\";\nimport { IMG_NOAVATAR } from \"../../../../constant\";\nimport { User } from \"../../../../interfaces\";\nimport { deleteFollowing, postFollowing } from \"../../../Articles/apis\";\nimport { getProfile } from \"../../apis\";\n\nexport default function ProfileInformation({ slug }: { slug: string }) {\n  const user = useSelector((state: RootState) => state.user.data);\n  const [focusUser, setFocusUser] = useState<User>();\n  const history = useHistory();\n  const token = window.localStorage.getItem(\"jwtToken\");\n\n  useEffect(() => {\n    getProfile(token, slug).then((res) => {\n      setFocusUser(res.data.profile);\n    });\n  }, [slug, token]);\n\n  const handleClickEdit = () => {\n    history.push(\"/settings\");\n  };\n\n  const handleFollow = () => {\n    if (focusUser?.following) {\n      deleteFollowing(token, focusUser?.username).then((res: any) => {\n        setFocusUser(res.data.profile);\n      });\n    } else {\n      postFollowing(token, focusUser?.username).then((res: any) => {\n        setFocusUser(res.data.profile);\n      });\n    }\n  };\n\n  return (\n    <div className=\"profile-page\">\n      <div className=\"user-info\">\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-xs-12 col-md-10 offset-md-1\">\n              {focusUser?.image ? (\n                <img src={focusUser?.image} className=\"user-img\" alt=\"\" />\n              ) : (\n                <img src={IMG_NOAVATAR} className=\"user-img\" alt=\"\" />\n              )}\n              <h4>{focusUser?.username}</h4>\n              <p>{focusUser?.bio || \"...\"}</p>\n              {user.username !== focusUser?.username ? (\n                <button\n                  className={\n                    !focusUser?.following\n                      ? \"btn btn-sm btn-outline-primary \"\n                      : \"btn btn-sm btn-primary \"\n                  }\n                  onClick={handleFollow}\n                >\n                  {focusUser?.following ? (\n                    <i></i>\n                  ) : (\n                    <i className=\"ion-plus-round\"></i>\n                  )}\n                  &nbsp;{\" \"}\n                  {focusUser?.following\n                    ? `Unfollow ${focusUser?.username}`\n                    : `Follow ${focusUser?.username}`}\n                  <span className=\"counter\"></span>\n                </button>\n              ) : (\n                <button\n                  className=\"btn btn-sm btn-outline-secondary action-btn\"\n                  onClick={handleClickEdit}\n                >\n                  <i className=\"ion-plus-round\"></i>\n                  &nbsp; Edit profile\n                </button>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}