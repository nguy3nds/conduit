{"ast":null,"code":"var _jsxFileName = \"/Users/nguyencanhnguyen/Public/Development/condi-app/src/pages/Editor/index.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { withFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport TagList from \"./components/TagList\";\nimport { getArticleBySlug, postArticle, putArticle } from \"./apis\";\nimport { useHistory, useParams } from \"react-router\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Editor(props) {\n  _s();\n\n  const [input, setInput] = useState(\"\");\n  const [tags, setTags] = useState([]);\n  const [isKeyReleased, setIsKeyReleased] = useState(false);\n  const token = window.localStorage.getItem(\"jwtToken\");\n  const {\n    slug\n  } = useParams();\n  const {\n    setFieldValue\n  } = props;\n  const history = useHistory();\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (!slug) {\n      postArticle(props.values, tags, token).then(res => {\n        const slug = res.data.article.slug;\n        history.push(`/article/${slug}`);\n      });\n    } else {\n      putArticle(props.values, tags, token, slug).then(res => {\n        history.push(`/article/${slug}`);\n      });\n    }\n  };\n\n  useEffect(() => {\n    if (slug) {\n      getArticleBySlug(slug).then(res => {\n        const article = res.data.article;\n        setFieldValue(\"title\", article.title);\n        setFieldValue(\"description\", article.description);\n        setFieldValue(\"content\", article.body);\n        setTags(article.tagList);\n      });\n    } else {\n      setFieldValue(\"title\", \"\");\n      setFieldValue(\"description\", \"\");\n      setFieldValue(\"content\", \"\");\n    }\n  }, [slug, setFieldValue]);\n\n  const onKeyDown = e => {\n    const {\n      key\n    } = e;\n    const trimmedInput = input.trim();\n\n    if (key === \"Enter\" && trimmedInput.length && !(tags === null || tags === void 0 ? void 0 : tags.includes(trimmedInput))) {\n      e.preventDefault();\n      setTags(prevState => [...prevState, trimmedInput]);\n      setInput(\"\");\n    }\n\n    if (key === \"Backspace\" && !input.length && tags.length) {\n      e.preventDefault();\n      const tagsCopy = [...tags];\n      const poppedTag = tagsCopy.pop();\n      setTags(tagsCopy);\n      setInput(poppedTag);\n    }\n\n    setIsKeyReleased(false);\n  };\n\n  const onChange = e => {\n    const {\n      value\n    } = e.target;\n    setInput(value);\n  };\n\n  const onKeyUp = () => {\n    setIsKeyReleased(true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"editor-page\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container page\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-10 offset-md-1 col-xs-12\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit,\n            children: /*#__PURE__*/_jsxDEV(\"fieldset\", {\n              children: [/*#__PURE__*/_jsxDEV(\"fieldset\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"error-messages\",\n                  children: props.errors.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"form-control form-control-lg\",\n                  placeholder: \"Article Title\",\n                  name: \"title\",\n                  value: props.values.title,\n                  onChange: props.handleChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 98,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"error-messages\",\n                  children: props.errors.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 108,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  rows: 6,\n                  className: \"form-control\",\n                  placeholder: \"What's this article about?\",\n                  name: \"description\",\n                  value: props.values.description,\n                  onChange: props.handleChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 109,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"error-messages\",\n                  children: props.errors.content\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 119,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  rows: 6,\n                  className: \"form-control\",\n                  placeholder: \"Write your article (in markdown)\",\n                  name: \"content\",\n                  value: props.values.content,\n                  onChange: props.handleChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 120,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"form-control\",\n                  placeholder: \"Write your tag\",\n                  value: input,\n                  onKeyDown: onKeyDown,\n                  onChange: onChange,\n                  onKeyUp: onKeyUp\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(TagList, {\n                  tags: tags,\n                  setTags: setTags\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 139,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-lg pull-xs-right btn-primary\",\n                disabled: !props.isValid || !props.values.title,\n                children: \"Publish Article\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Editor, \"hVYCZLRztuMFIh9acZBEN6Olr2U=\", false, function () {\n  return [useParams, useHistory];\n});\n\n_c = Editor;\nconst FormikEditor = withFormik({\n  mapPropsToValues() {\n    // Init form field\n    return {\n      title: \"\",\n      description: \"\",\n      content: \"\"\n    };\n  },\n\n  validationSchema: Yup.object().shape({\n    // Validate form field\n    title: Yup.string().required(\"Please provide a title\"),\n    description: Yup.string().required(\"Please provide a description\"),\n    content: Yup.string().required(\"Please provide content\")\n  }),\n  handleSubmit: () => {}\n})(Editor);\nexport default FormikEditor;\n\nvar _c;\n\n$RefreshReg$(_c, \"Editor\");","map":{"version":3,"sources":["/Users/nguyencanhnguyen/Public/Development/condi-app/src/pages/Editor/index.tsx"],"names":["React","useEffect","useState","withFormik","Yup","TagList","getArticleBySlug","postArticle","putArticle","useHistory","useParams","Editor","props","input","setInput","tags","setTags","isKeyReleased","setIsKeyReleased","token","window","localStorage","getItem","slug","setFieldValue","history","handleSubmit","e","preventDefault","values","then","res","data","article","push","title","description","body","tagList","onKeyDown","key","trimmedInput","trim","length","includes","prevState","tagsCopy","poppedTag","pop","onChange","value","target","onKeyUp","errors","handleChange","content","isValid","FormikEditor","mapPropsToValues","validationSchema","object","shape","string","required"],"mappings":";;;AAAA,OAAOA,KAAP,IAIEC,SAJF,EAKEC,QALF,QAMO,OANP;AAOA,SAA8BC,UAA9B,QAAgD,QAAhD;AACA,OAAO,KAAKC,GAAZ,MAAqB,KAArB;AACA,OAAOC,OAAP,MAAoB,sBAApB;AACA,SAASC,gBAAT,EAA2BC,WAA3B,EAAwCC,UAAxC,QAA0D,QAA1D;AACA,SAASC,UAAT,EAAqBC,SAArB,QAAsC,cAAtC;;;AAGA,SAASC,MAAT,CAAgBC,KAAhB,EAAmE;AAAA;;AACjE,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBZ,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACa,IAAD,EAAOC,OAAP,IAAkBd,QAAQ,CAAW,EAAX,CAAhC;AACA,QAAM,CAACe,aAAD,EAAgBC,gBAAhB,IAAoChB,QAAQ,CAAC,KAAD,CAAlD;AACA,QAAMiB,KAAK,GAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,UAA5B,CAAd;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAWb,SAAS,EAA1B;AACA,QAAM;AAAEc,IAAAA;AAAF,MAAoBZ,KAA1B;AACA,QAAMa,OAAO,GAAGhB,UAAU,EAA1B;;AAEA,QAAMiB,YAAY,GAAIC,CAAD,IAAuB;AAC1CA,IAAAA,CAAC,CAACC,cAAF;;AACA,QAAI,CAACL,IAAL,EAAW;AACThB,MAAAA,WAAW,CAACK,KAAK,CAACiB,MAAP,EAAed,IAAf,EAAqBI,KAArB,CAAX,CAAuCW,IAAvC,CAA6CC,GAAD,IAAS;AACnD,cAAMR,IAAI,GAAGQ,GAAG,CAACC,IAAJ,CAASC,OAAT,CAAiBV,IAA9B;AACAE,QAAAA,OAAO,CAACS,IAAR,CAAc,YAAWX,IAAK,EAA9B;AACD,OAHD;AAID,KALD,MAKO;AACLf,MAAAA,UAAU,CAACI,KAAK,CAACiB,MAAP,EAAed,IAAf,EAAqBI,KAArB,EAA4BI,IAA5B,CAAV,CAA4CO,IAA5C,CAAkDC,GAAD,IAAS;AACxDN,QAAAA,OAAO,CAACS,IAAR,CAAc,YAAWX,IAAK,EAA9B;AACD,OAFD;AAGD;AACF,GAZD;;AAcAtB,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIsB,IAAJ,EAAU;AACRjB,MAAAA,gBAAgB,CAACiB,IAAD,CAAhB,CAAuBO,IAAvB,CAA6BC,GAAD,IAAS;AACnC,cAAME,OAAO,GAAGF,GAAG,CAACC,IAAJ,CAASC,OAAzB;AACAT,QAAAA,aAAa,CAAC,OAAD,EAAUS,OAAO,CAACE,KAAlB,CAAb;AACAX,QAAAA,aAAa,CAAC,aAAD,EAAgBS,OAAO,CAACG,WAAxB,CAAb;AACAZ,QAAAA,aAAa,CAAC,SAAD,EAAYS,OAAO,CAACI,IAApB,CAAb;AACArB,QAAAA,OAAO,CAACiB,OAAO,CAACK,OAAT,CAAP;AACD,OAND;AAOD,KARD,MAQO;AACLd,MAAAA,aAAa,CAAC,OAAD,EAAU,EAAV,CAAb;AACAA,MAAAA,aAAa,CAAC,aAAD,EAAgB,EAAhB,CAAb;AACAA,MAAAA,aAAa,CAAC,SAAD,EAAY,EAAZ,CAAb;AACD;AACF,GAdQ,EAcN,CAACD,IAAD,EAAOC,aAAP,CAdM,CAAT;;AAgBA,QAAMe,SAAS,GAAIZ,CAAD,IAAwC;AACxD,UAAM;AAAEa,MAAAA;AAAF,QAAUb,CAAhB;AACA,UAAMc,YAAY,GAAG5B,KAAK,CAAC6B,IAAN,EAArB;;AAEA,QACEF,GAAG,KAAK,OAAR,IACAC,YAAY,CAACE,MADb,IAEA,EAAC5B,IAAD,aAACA,IAAD,uBAACA,IAAI,CAAE6B,QAAN,CAAeH,YAAf,CAAD,CAHF,EAIE;AACAd,MAAAA,CAAC,CAACC,cAAF;AACAZ,MAAAA,OAAO,CAAE6B,SAAD,IAAe,CAAC,GAAGA,SAAJ,EAAeJ,YAAf,CAAhB,CAAP;AACA3B,MAAAA,QAAQ,CAAC,EAAD,CAAR;AACD;;AAED,QAAI0B,GAAG,KAAK,WAAR,IAAuB,CAAC3B,KAAK,CAAC8B,MAA9B,IAAwC5B,IAAI,CAAC4B,MAAjD,EAAyD;AACvDhB,MAAAA,CAAC,CAACC,cAAF;AACA,YAAMkB,QAAQ,GAAG,CAAC,GAAG/B,IAAJ,CAAjB;AACA,YAAMgC,SAAS,GAAGD,QAAQ,CAACE,GAAT,EAAlB;AAEAhC,MAAAA,OAAO,CAAC8B,QAAD,CAAP;AACAhC,MAAAA,QAAQ,CAACiC,SAAD,CAAR;AACD;;AAED7B,IAAAA,gBAAgB,CAAC,KAAD,CAAhB;AACD,GAxBD;;AA0BA,QAAM+B,QAAQ,GAAItB,CAAD,IAAsC;AACrD,UAAM;AAAEuB,MAAAA;AAAF,QAAYvB,CAAC,CAACwB,MAApB;AACArC,IAAAA,QAAQ,CAACoC,KAAD,CAAR;AACD,GAHD;;AAKA,QAAME,OAAO,GAAG,MAAM;AACpBlC,IAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACD,GAFD;;AAIA,sBACE;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA,2BACE;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA,6BACE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA,+BACE;AAAK,UAAA,SAAS,EAAC,iCAAf;AAAA,iCACE;AAAM,YAAA,QAAQ,EAAEQ,YAAhB;AAAA,mCACE;AAAA,sCACE;AAAU,gBAAA,SAAS,EAAC,YAApB;AAAA,wCACE;AAAG,kBAAA,SAAS,EAAC,gBAAb;AAAA,4BAA+Bd,KAAK,CAACyC,MAAN,CAAalB;AAA5C;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE;AACE,kBAAA,IAAI,EAAC,MADP;AAEE,kBAAA,SAAS,EAAC,8BAFZ;AAGE,kBAAA,WAAW,EAAC,eAHd;AAIE,kBAAA,IAAI,EAAC,OAJP;AAKE,kBAAA,KAAK,EAAEvB,KAAK,CAACiB,MAAN,CAAaM,KALtB;AAME,kBAAA,QAAQ,EAAEvB,KAAK,CAAC0C;AANlB;AAAA;AAAA;AAAA;AAAA,wBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAYE;AAAU,gBAAA,SAAS,EAAC,YAApB;AAAA,wCACE;AAAG,kBAAA,SAAS,EAAC,gBAAb;AAAA,4BAA+B1C,KAAK,CAACyC,MAAN,CAAajB;AAA5C;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE;AACE,kBAAA,IAAI,EAAE,CADR;AAEE,kBAAA,SAAS,EAAC,cAFZ;AAGE,kBAAA,WAAW,EAAC,4BAHd;AAIE,kBAAA,IAAI,EAAC,aAJP;AAKE,kBAAA,KAAK,EAAExB,KAAK,CAACiB,MAAN,CAAaO,WALtB;AAME,kBAAA,QAAQ,EAAExB,KAAK,CAAC0C;AANlB;AAAA;AAAA;AAAA;AAAA,wBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,sBAZF,eAuBE;AAAU,gBAAA,SAAS,EAAC,YAApB;AAAA,wCACE;AAAG,kBAAA,SAAS,EAAC,gBAAb;AAAA,4BAA+B1C,KAAK,CAACyC,MAAN,CAAaE;AAA5C;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE;AACE,kBAAA,IAAI,EAAE,CADR;AAEE,kBAAA,SAAS,EAAC,cAFZ;AAGE,kBAAA,WAAW,EAAC,kCAHd;AAIE,kBAAA,IAAI,EAAC,SAJP;AAKE,kBAAA,KAAK,EAAE3C,KAAK,CAACiB,MAAN,CAAa0B,OALtB;AAME,kBAAA,QAAQ,EAAE3C,KAAK,CAAC0C;AANlB;AAAA;AAAA;AAAA;AAAA,wBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,sBAvBF,eAkCE;AAAU,gBAAA,SAAS,EAAC,YAApB;AAAA,wCACE;AACE,kBAAA,IAAI,EAAC,MADP;AAEE,kBAAA,SAAS,EAAC,cAFZ;AAGE,kBAAA,WAAW,EAAC,gBAHd;AAIE,kBAAA,KAAK,EAAEzC,KAJT;AAKE,kBAAA,SAAS,EAAE0B,SALb;AAME,kBAAA,QAAQ,EAAEU,QANZ;AAOE,kBAAA,OAAO,EAAEG;AAPX;AAAA;AAAA;AAAA;AAAA,wBADF,eAUE,QAAC,OAAD;AAAS,kBAAA,IAAI,EAAErC,IAAf;AAAqB,kBAAA,OAAO,EAAEC;AAA9B;AAAA;AAAA;AAAA;AAAA,wBAVF;AAAA;AAAA;AAAA;AAAA;AAAA,sBAlCF,eA8CE;AACE,gBAAA,SAAS,EAAC,sCADZ;AAEE,gBAAA,QAAQ,EAAE,CAACJ,KAAK,CAAC4C,OAAP,IAAkB,CAAC5C,KAAK,CAACiB,MAAN,CAAaM,KAF5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBA9CF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAiED;;GA3IQxB,M;UAKUD,S,EAEDD,U;;;KAPTE,M;AA4IT,MAAM8C,YAAY,GAAGtD,UAAU,CAAC;AAC9BuD,EAAAA,gBAAgB,GAAG;AACjB;AACA,WAAO;AACLvB,MAAAA,KAAK,EAAE,EADF;AAELC,MAAAA,WAAW,EAAE,EAFR;AAGLmB,MAAAA,OAAO,EAAE;AAHJ,KAAP;AAKD,GAR6B;;AAS9BI,EAAAA,gBAAgB,EAAEvD,GAAG,CAACwD,MAAJ,GAAaC,KAAb,CAAmB;AACnC;AACA1B,IAAAA,KAAK,EAAE/B,GAAG,CAAC0D,MAAJ,GAAaC,QAAb,CAAsB,wBAAtB,CAF4B;AAGnC3B,IAAAA,WAAW,EAAEhC,GAAG,CAAC0D,MAAJ,GAAaC,QAAb,CAAsB,8BAAtB,CAHsB;AAInCR,IAAAA,OAAO,EAAEnD,GAAG,CAAC0D,MAAJ,GAAaC,QAAb,CAAsB,wBAAtB;AAJ0B,GAAnB,CATY;AAe9BrC,EAAAA,YAAY,EAAE,MAAM,CAAE;AAfQ,CAAD,CAAV,CAgBlBf,MAhBkB,CAArB;AAkBA,eAAe8C,YAAf","sourcesContent":["import React, {\n  ChangeEvent,\n  KeyboardEvent,\n  SyntheticEvent,\n  useEffect,\n  useState,\n} from \"react\";\nimport { InjectedFormikProps, withFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport TagList from \"./components/TagList\";\nimport { getArticleBySlug, postArticle, putArticle } from \"./apis\";\nimport { useHistory, useParams } from \"react-router\";\nimport { FormProps, FormValues, Slug } from \"./interface\";\n\nfunction Editor(props: InjectedFormikProps<FormProps, FormValues>) {\n  const [input, setInput] = useState(\"\");\n  const [tags, setTags] = useState<String[]>([]);\n  const [isKeyReleased, setIsKeyReleased] = useState(false);\n  const token = window.localStorage.getItem(\"jwtToken\");\n  const { slug } = useParams<Slug>();\n  const { setFieldValue } = props;\n  const history = useHistory();\n\n  const handleSubmit = (e: SyntheticEvent) => {\n    e.preventDefault();\n    if (!slug) {\n      postArticle(props.values, tags, token).then((res) => {\n        const slug = res.data.article.slug;\n        history.push(`/article/${slug}`);\n      });\n    } else {\n      putArticle(props.values, tags, token, slug).then((res) => {\n        history.push(`/article/${slug}`);\n      });\n    }\n  };\n\n  useEffect(() => {\n    if (slug) {\n      getArticleBySlug(slug).then((res) => {\n        const article = res.data.article;\n        setFieldValue(\"title\", article.title);\n        setFieldValue(\"description\", article.description);\n        setFieldValue(\"content\", article.body);\n        setTags(article.tagList);\n      });\n    } else {\n      setFieldValue(\"title\", \"\");\n      setFieldValue(\"description\", \"\");\n      setFieldValue(\"content\", \"\");\n    }\n  }, [slug, setFieldValue]);\n\n  const onKeyDown = (e: KeyboardEvent<HTMLInputElement>) => {\n    const { key } = e;\n    const trimmedInput = input.trim();\n\n    if (\n      key === \"Enter\" &&\n      trimmedInput.length &&\n      !tags?.includes(trimmedInput)\n    ) {\n      e.preventDefault();\n      setTags((prevState) => [...prevState, trimmedInput]);\n      setInput(\"\");\n    }\n\n    if (key === \"Backspace\" && !input.length && tags.length) {\n      e.preventDefault();\n      const tagsCopy = [...tags];\n      const poppedTag = tagsCopy.pop() as string;\n\n      setTags(tagsCopy);\n      setInput(poppedTag);\n    }\n\n    setIsKeyReleased(false);\n  };\n\n  const onChange = (e: ChangeEvent<HTMLInputElement>) => {\n    const { value } = e.target;\n    setInput(value);\n  };\n\n  const onKeyUp = () => {\n    setIsKeyReleased(true);\n  };\n\n  return (\n    <div className=\"editor-page\">\n      <div className=\"container page\">\n        <div className=\"row\">\n          <div className=\"col-md-10 offset-md-1 col-xs-12\">\n            <form onSubmit={handleSubmit}>\n              <fieldset>\n                <fieldset className=\"form-group\">\n                  <p className=\"error-messages\">{props.errors.title}</p>\n                  <input\n                    type=\"text\"\n                    className=\"form-control form-control-lg\"\n                    placeholder=\"Article Title\"\n                    name=\"title\"\n                    value={props.values.title}\n                    onChange={props.handleChange}\n                  />\n                </fieldset>\n                <fieldset className=\"form-group\">\n                  <p className=\"error-messages\">{props.errors.description}</p>\n                  <textarea\n                    rows={6}\n                    className=\"form-control\"\n                    placeholder=\"What's this article about?\"\n                    name=\"description\"\n                    value={props.values.description}\n                    onChange={props.handleChange}\n                  />\n                </fieldset>\n                <fieldset className=\"form-group\">\n                  <p className=\"error-messages\">{props.errors.content}</p>\n                  <textarea\n                    rows={6}\n                    className=\"form-control\"\n                    placeholder=\"Write your article (in markdown)\"\n                    name=\"content\"\n                    value={props.values.content}\n                    onChange={props.handleChange}\n                  ></textarea>\n                </fieldset>\n                <fieldset className=\"form-group\">\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    placeholder=\"Write your tag\"\n                    value={input}\n                    onKeyDown={onKeyDown}\n                    onChange={onChange}\n                    onKeyUp={onKeyUp}\n                  />\n                  <TagList tags={tags} setTags={setTags} />\n                </fieldset>\n                <button\n                  className=\"btn btn-lg pull-xs-right btn-primary\"\n                  disabled={!props.isValid || !props.values.title}\n                >\n                  Publish Article\n                </button>\n              </fieldset>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\nconst FormikEditor = withFormik({\n  mapPropsToValues() {\n    // Init form field\n    return {\n      title: \"\",\n      description: \"\",\n      content: \"\",\n    };\n  },\n  validationSchema: Yup.object().shape({\n    // Validate form field\n    title: Yup.string().required(\"Please provide a title\"),\n    description: Yup.string().required(\"Please provide a description\"),\n    content: Yup.string().required(\"Please provide content\"),\n  }),\n  handleSubmit: () => {},\n})(Editor);\n\nexport default FormikEditor;\n"]},"metadata":{},"sourceType":"module"}