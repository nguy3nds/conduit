{"ast":null,"code":"var _jsxFileName = \"/Users/nguyencanhnguyen/Public/Development/condi-app/src/pages/Profile/components/ArticlesPreview/index.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { favoritedArticles, myArticles } from \"../../apis\";\nimport { useRouteMatch } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport ArticlePreview from \"../../../Home/components/ArticlePreview\";\nimport { LIMIT } from \"../../../../constant\";\nimport { Row } from \"react-bootstrap\";\nimport Paginate from \"../../../../components/Paginate\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ArticlesPreview() {\n  _s();\n\n  const [articles, setArticles] = useState([]);\n  const token = window.localStorage.getItem(\"jwtToken\");\n  const user = useSelector(state => state.user.data);\n  const {\n    url\n  } = useRouteMatch();\n  const [nameApiToLoad, setNameApiToLoad] = useState(\"My\");\n  const [count, setCount] = useState(0);\n  const [offset, setOffset] = useState(0);\n  const [currentPage, setCurrentPage] = useState(1);\n  useEffect(() => {\n    setOffset(currentPage - 1);\n  }, [currentPage]);\n\n  const handleClickYourFeed = () => {\n    console.log(\"hi\");\n    setNameApiToLoad(\"My\");\n  };\n\n  const handleClickGlobalFeed = () => {\n    setNameApiToLoad(\"Favorited\");\n  };\n\n  useEffect(() => {\n    handleClickYourFeed();\n  }, []);\n  useEffect(() => {\n    switch (nameApiToLoad) {\n      case \"My\":\n        myArticles(user === null || user === void 0 ? void 0 : user.username, token, offset).then(res => {\n          setArticles(res.data.articles);\n          setCount(res.data.articlesCount);\n        });\n        break;\n\n      case \"Favorited\":\n        favoritedArticles(user === null || user === void 0 ? void 0 : user.username, token, offset).then(res => {\n          setArticles(res.data.articles);\n          setCount(res.data.articlesCount);\n        });\n        break;\n\n      default:\n        break;\n    }\n  }, [nameApiToLoad, offset, token, user === null || user === void 0 ? void 0 : user.username]);\n\n  const onSelectedPage = pageNum => {\n    setCurrentPage(pageNum);\n  };\n\n  const onPrev = () => {\n    setCurrentPage(currentPage - 1);\n  };\n\n  const onNext = () => {\n    setCurrentPage(currentPage + 1);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-xs-12 col-md-10 offset-md-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"articles-toggle\",\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"nav nav-pills outline-active\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"nav-item\",\n              children: /*#__PURE__*/_jsxDEV(NavLink, {\n                className: nameApiToLoad === \"My\" ? \"nav-link active\" : \"nav-link\",\n                to: url,\n                activeClassName: \"selected\",\n                onClick: handleClickYourFeed,\n                children: \"My articles\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"nav-item\",\n              children: /*#__PURE__*/_jsxDEV(NavLink, {\n                className: nameApiToLoad === \"Favorited\" ? \"nav-link active\" : \"nav-link\",\n                to: url,\n                activeClassName: \"selected\",\n                onClick: handleClickGlobalFeed,\n                children: \"Favorited articles\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ArticlePreview, {\n          feeds: articles\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this), count > LIMIT && /*#__PURE__*/_jsxDEV(Row, {\n          style: {\n            display: \"flex\",\n            justifyContent: \"center\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Paginate, {\n            pageNumber: Math.ceil(count / LIMIT),\n            currentPage: currentPage,\n            onSelectPage: onSelectedPage,\n            handlePrev: onPrev,\n            handleNext: onNext\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ArticlesPreview, \"/YgUnNI4jTXJbbbxJT4W28IJ2cA=\", false, function () {\n  return [useSelector, useRouteMatch];\n});\n\n_c = ArticlesPreview;\n\nvar _c;\n\n$RefreshReg$(_c, \"ArticlesPreview\");","map":{"version":3,"sources":["/Users/nguyencanhnguyen/Public/Development/condi-app/src/pages/Profile/components/ArticlesPreview/index.tsx"],"names":["React","useEffect","useState","NavLink","favoritedArticles","myArticles","useRouteMatch","useSelector","ArticlePreview","LIMIT","Row","Paginate","ArticlesPreview","articles","setArticles","token","window","localStorage","getItem","user","state","data","url","nameApiToLoad","setNameApiToLoad","count","setCount","offset","setOffset","currentPage","setCurrentPage","handleClickYourFeed","console","log","handleClickGlobalFeed","username","then","res","articlesCount","onSelectedPage","pageNum","onPrev","onNext","display","justifyContent","Math","ceil"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { favoritedArticles, myArticles } from \"../../apis\";\nimport { useRouteMatch } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport ArticlePreview from \"../../../Home/components/ArticlePreview\";\nimport { Article } from \"../../../../interfaces\";\nimport { RootState } from \"../../../..\";\nimport { LIMIT } from \"../../../../constant\";\nimport { Row } from \"react-bootstrap\";\nimport Paginate from \"../../../../components/Paginate\";\n\nexport default function ArticlesPreview() {\n  const [articles, setArticles] = useState<Article[]>([]);\n  const token = window.localStorage.getItem(\"jwtToken\");\n  const user = useSelector((state: RootState) => state.user.data);\n  const { url } = useRouteMatch();\n  const [nameApiToLoad, setNameApiToLoad] = useState(\"My\");\n\n  const [count, setCount] = useState(0);\n  const [offset, setOffset] = useState(0);\n  const [currentPage, setCurrentPage] = useState<number>(1);\n\n  useEffect(() => {\n    setOffset(currentPage - 1);\n  }, [currentPage]);\n\n  const handleClickYourFeed = () => {\n    console.log(\"hi\");\n    setNameApiToLoad(\"My\");\n  };\n\n  const handleClickGlobalFeed = () => {\n    setNameApiToLoad(\"Favorited\");\n  };\n\n  useEffect(() => {\n    handleClickYourFeed();\n  }, []);\n\n  useEffect(() => {\n    switch (nameApiToLoad) {\n      case \"My\":\n        myArticles(user?.username, token, offset).then((res) => {\n          setArticles(res.data.articles);\n          setCount(res.data.articlesCount);\n        });\n        break;\n\n      case \"Favorited\":\n        favoritedArticles(user?.username, token, offset).then((res) => {\n          setArticles(res.data.articles);\n          setCount(res.data.articlesCount);\n        });\n        break;\n\n      default:\n        break;\n    }\n  }, [nameApiToLoad, offset, token, user?.username]);\n\n  const onSelectedPage = (pageNum: number) => {\n    setCurrentPage(pageNum);\n  };\n\n  const onPrev = () => {\n    setCurrentPage(currentPage - 1);\n  };\n\n  const onNext = () => {\n    setCurrentPage(currentPage + 1);\n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"row\">\n        <div className=\"col-xs-12 col-md-10 offset-md-1\">\n          <div className=\"articles-toggle\">\n            <ul className=\"nav nav-pills outline-active\">\n              {\n                <li className=\"nav-item\">\n                  <NavLink\n                    className={\n                      nameApiToLoad === \"My\" ? \"nav-link active\" : \"nav-link\"\n                    }\n                    to={url}\n                    activeClassName=\"selected\"\n                    onClick={handleClickYourFeed}\n                  >\n                    My articles\n                  </NavLink>\n                </li>\n              }\n              <li className=\"nav-item\">\n                <NavLink\n                  className={\n                    nameApiToLoad === \"Favorited\"\n                      ? \"nav-link active\"\n                      : \"nav-link\"\n                  }\n                  to={url}\n                  activeClassName=\"selected\"\n                  onClick={handleClickGlobalFeed}\n                >\n                  Favorited articles\n                </NavLink>\n              </li>\n            </ul>\n          </div>\n          <ArticlePreview feeds={articles} />\n          {count > LIMIT && (\n            <Row style={{ display: \"flex\", justifyContent: \"center\" }}>\n              <Paginate\n                pageNumber={Math.ceil(count / LIMIT)}\n                currentPage={currentPage}\n                onSelectPage={onSelectedPage}\n                handlePrev={onPrev}\n                handleNext={onNext}\n              />\n            </Row>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}