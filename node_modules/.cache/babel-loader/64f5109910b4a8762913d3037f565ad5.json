{"ast":null,"code":"import _slicedToArray from\"/Users/nguyencanhnguyen/Public/Development/condi-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from\"react\";import{useHistory,useParams}from\"react-router\";import{NavLink}from\"react-router-dom\";import{userByToken}from\"../../apis\";import{deleteFavorite,postFavorite}from\"../Home/components/ArticlePreview/ArticleItem/apis\";import{getProfile}from\"../Profile/apis\";import{deleteArticle,deleteFollowing,getArticle,getArticleNoToken,postFollowing}from\"./apis\";import Comment from\"./Components/Comment\";import AlertDialog from\"../../components/Modals/AlertDialog\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Articles(){var _article$author,_article$author2,_article$author3,_article$author5,_article$author6,_article$tagList;var _useParams=useParams(),slug=_useParams.slug;var token=window.localStorage.getItem(\"jwtToken\");var _useState=useState(),_useState2=_slicedToArray(_useState,2),article=_useState2[0],setArticle=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),checkAuthor=_useState4[0],setCheckAuthor=_useState4[1];var _useState5=useState(article===null||article===void 0?void 0:article.favoritesCount),_useState6=_slicedToArray(_useState5,2),likeCount=_useState6[0],setLikeCount=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),likeState=_useState8[0],setLikeState=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),followState=_useState10[0],setFollowState=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),open=_useState12[0],setOpen=_useState12[1];var history=useHistory();useEffect(function(){if(token){getArticle(slug,token).then(function(responseArticle){var _responseArticle$data,_responseArticle$data2;setArticle(responseArticle.data.article);setLikeState((_responseArticle$data=responseArticle.data.article)===null||_responseArticle$data===void 0?void 0:_responseArticle$data.favorited);setLikeCount((_responseArticle$data2=responseArticle.data.article)===null||_responseArticle$data2===void 0?void 0:_responseArticle$data2.favoritesCount);userByToken(token).then(function(responseUser){if(responseUser.data.user.username==responseArticle.data.article.author.username)setCheckAuthor(true);else setCheckAuthor(false);});getProfile(token,responseArticle.data.article.author.username).then(function(res){if(res.data.profile.following)setFollowState(true);else setFollowState(false);});});}else{getArticleNoToken(slug).then(function(res){setArticle(res.data.article);});}},[slug,token]);var handleFavorite=function handleFavorite(slug){if(likeState){deleteFavorite(token,slug).then(function(res){var _res$data$article;setLikeCount((_res$data$article=res.data.article)===null||_res$data$article===void 0?void 0:_res$data$article.favoritesCount);setLikeState(false);});}else{postFavorite(token,slug).then(function(res){var _res$data$article2;setLikeCount((_res$data$article2=res.data.article)===null||_res$data$article2===void 0?void 0:_res$data$article2.favoritesCount);setLikeState(true);});}};var handleFollowing=function handleFollowing(username){if(followState){deleteFollowing(token,username).then(function(res){// setLikeCount(res.data.article?.favoritesCount);\nsetFollowState(false);});}else{postFollowing(token,username).then(function(res){// setLikeCount(res.data.article?.favoritesCount);\nsetFollowState(true);});}};var handleDelete=function handleDelete(){setOpen(true);};var handleAgree=function handleAgree(){deleteArticle(slug,token).then(function(res){history.push(\"\");});handleClose();};var handleClose=function handleClose(){setOpen(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"article-page\",children:[/*#__PURE__*/_jsx(AlertDialog,{open:open,setOpen:setOpen,slug:slug,token:token,handleAgree:handleAgree,handleClose:handleClose}),/*#__PURE__*/_jsx(\"div\",{className:\"banner\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:article===null||article===void 0?void 0:article.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"article-meta\",children:[/*#__PURE__*/_jsx(\"img\",{src:(article===null||article===void 0?void 0:(_article$author=article.author)===null||_article$author===void 0?void 0:_article$author.image)?article.author.image:\"https://static.productionready.io/images/smiley-cyrus.jpg\",alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"info\",children:[/*#__PURE__*/_jsx(NavLink,{to:\"/profile/\"+(article===null||article===void 0?void 0:(_article$author2=article.author)===null||_article$author2===void 0?void 0:_article$author2.username),children:/*#__PURE__*/_jsx(\"h5\",{children:article===null||article===void 0?void 0:(_article$author3=article.author)===null||_article$author3===void 0?void 0:_article$author3.username})}),/*#__PURE__*/_jsx(\"span\",{className:\"date\",children:article===null||article===void 0?void 0:article.updatedAt})]}),token?/*#__PURE__*/_jsx(\"div\",{children:checkAuthor?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(NavLink,{to:\"/editor/\"+(article===null||article===void 0?void 0:article.slug),children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-sm btn-outline-secondary\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"ion-edit\"}),\"\\xA0 Edit Article\"]})}),\"\\xA0\\xA0\",/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-sm btn-outline-danger\",onClick:handleDelete,children:[/*#__PURE__*/_jsx(\"i\",{className:\"ion-trash-a\"}),\"\\xA0 Delete Article\"]})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-sm btn-outline-secondary\",onClick:function onClick(){var _article$author4;return handleFollowing(article===null||article===void 0?void 0:(_article$author4=article.author)===null||_article$author4===void 0?void 0:_article$author4.username);},children:[followState?/*#__PURE__*/_jsx(\"i\",{}):/*#__PURE__*/_jsx(\"i\",{className:\"ion-plus-round\"}),\"\\xA0\",\" \",followState?\"Unfollow \".concat(article===null||article===void 0?void 0:(_article$author5=article.author)===null||_article$author5===void 0?void 0:_article$author5.username):\"Follow \".concat(article===null||article===void 0?void 0:(_article$author6=article.author)===null||_article$author6===void 0?void 0:_article$author6.username),/*#__PURE__*/_jsx(\"span\",{className:\"counter\"})]}),\"\\xA0\\xA0\",/*#__PURE__*/_jsxs(\"button\",{className:likeState?\"btn btn-sm btn-primary\":\"btn btn-sm btn-outline-primary\",onClick:function onClick(){return handleFavorite(article===null||article===void 0?void 0:article.slug);},children:[likeState?/*#__PURE__*/_jsx(\"i\",{}):/*#__PURE__*/_jsx(\"i\",{className:\"ion-heart\"}),\"\\xA0 \",likeState?\"Unfavorite Post\":\"Favorite Post\",/*#__PURE__*/_jsxs(\"span\",{className:\"counter\",children:[\"(\",likeCount,\")\"]})]})]})}):/*#__PURE__*/_jsx(\"div\",{})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container page\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row article-content\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-xs-12\",children:/*#__PURE__*/_jsx(\"p\",{children:article===null||article===void 0?void 0:article.body})})}),/*#__PURE__*/_jsx(\"div\",{className:\"tag-list\",children:article===null||article===void 0?void 0:(_article$tagList=article.tagList)===null||_article$tagList===void 0?void 0:_article$tagList.map(function(tag){return/*#__PURE__*/_jsx(\"span\",{\"ng-repeat\":\"tag in $ctrl.article.tagList\",className:\"tag-default tag-pill ng-binding ng-scope\",children:tag},tag);})}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(Comment,{slug:slug})]})]});}","map":{"version":3,"sources":["/Users/nguyencanhnguyen/Public/Development/condi-app/src/pages/Articles/index.tsx"],"names":["useEffect","useState","useHistory","useParams","NavLink","userByToken","deleteFavorite","postFavorite","getProfile","deleteArticle","deleteFollowing","getArticle","getArticleNoToken","postFollowing","Comment","AlertDialog","Articles","slug","token","window","localStorage","getItem","article","setArticle","checkAuthor","setCheckAuthor","favoritesCount","likeCount","setLikeCount","likeState","setLikeState","followState","setFollowState","open","setOpen","history","then","responseArticle","data","favorited","responseUser","user","username","author","res","profile","following","handleFavorite","handleFollowing","handleDelete","handleAgree","push","handleClose","title","image","updatedAt","body","tagList","map","tag"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useHistory, useParams } from \"react-router\";\nimport { NavLink } from \"react-router-dom\";\nimport { userByToken } from \"../../apis\";\nimport {\n  deleteFavorite,\n  postFavorite,\n} from \"../Home/components/ArticlePreview/ArticleItem/apis\";\nimport { getProfile } from \"../Profile/apis\";\nimport {\n  deleteArticle,\n  deleteFollowing,\n  getArticle,\n  getArticleNoToken,\n  postFollowing,\n} from \"./apis\";\nimport { AxiosResponse } from \"axios\";\nimport Comment from \"./Components/Comment\";\nimport AlertDialog from \"../../components/Modals/AlertDialog\";\n\nexport default function Articles() {\n  const { slug }: any = useParams();\n  const token = window.localStorage.getItem(\"jwtToken\") as string;\n  const [article, setArticle] = useState<any>();\n  const [checkAuthor, setCheckAuthor] = useState(false);\n  const [likeCount, setLikeCount] = useState<number>(article?.favoritesCount);\n  const [likeState, setLikeState] = useState<boolean>();\n  const [followState, setFollowState] = useState<boolean>();\n  const [open, setOpen] = useState(false);\n  const history = useHistory();\n\n  useEffect(() => {\n    if (token) {\n      getArticle(slug, token).then((responseArticle) => {\n        setArticle(responseArticle.data.article);\n        setLikeState(responseArticle.data.article?.favorited);\n        setLikeCount(responseArticle.data.article?.favoritesCount);\n        userByToken(token).then((responseUser) => {\n          if (\n            responseUser.data.user.username ==\n            responseArticle.data.article.author.username\n          )\n            setCheckAuthor(true);\n          else setCheckAuthor(false);\n        });\n        getProfile(token, responseArticle.data.article.author.username).then(\n          (res: AxiosResponse<any>) => {\n            if (res.data.profile.following) setFollowState(true);\n            else setFollowState(false);\n          }\n        );\n      });\n    } else {\n      getArticleNoToken(slug).then((res: any) => {\n        setArticle(res.data.article);\n      });\n    }\n  }, [slug, token]);\n\n  const handleFavorite = (slug: string) => {\n    if (likeState) {\n      deleteFavorite(token, slug).then((res: any) => {\n        setLikeCount(res.data.article?.favoritesCount);\n        setLikeState(false);\n      });\n    } else {\n      postFavorite(token, slug).then((res: any) => {\n        setLikeCount(res.data.article?.favoritesCount);\n        setLikeState(true);\n      });\n    }\n  };\n  const handleFollowing = (username: string) => {\n    if (followState) {\n      deleteFollowing(token, username).then((res: any) => {\n        // setLikeCount(res.data.article?.favoritesCount);\n\n        setFollowState(false);\n      });\n    } else {\n      postFollowing(token, username).then((res: any) => {\n        // setLikeCount(res.data.article?.favoritesCount);\n\n        setFollowState(true);\n      });\n    }\n  };\n  const handleDelete = () => {\n    setOpen(true);\n  };\n\n  const handleAgree = () => {\n    deleteArticle(slug, token).then((res) => {\n      history.push(\"\");\n    });\n    handleClose();\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div className=\"article-page\">\n      <AlertDialog\n        open={open}\n        setOpen={setOpen}\n        slug={slug}\n        token={token}\n        handleAgree={handleAgree}\n        handleClose={handleClose}\n      />\n      <div className=\"banner\">\n        <div className=\"container\">\n          <h1>{article?.title}</h1>\n          <div className=\"article-meta\">\n            <img\n              src={\n                article?.author?.image\n                  ? article.author.image\n                  : \"https://static.productionready.io/images/smiley-cyrus.jpg\"\n              }\n              alt=\"\"\n            />\n            <div className=\"info\">\n              <NavLink to={\"/profile/\" + article?.author?.username}>\n                <h5>{article?.author?.username}</h5>\n              </NavLink>\n              <span className=\"date\">{article?.updatedAt}</span>\n            </div>\n            {token ? (\n              <div>\n                {checkAuthor ? (\n                  <div>\n                    <NavLink to={\"/editor/\" + article?.slug}>\n                      <button className=\"btn btn-sm btn-outline-secondary\">\n                        <i className=\"ion-edit\"></i>\n                        &nbsp; Edit Article\n                      </button>\n                    </NavLink>\n                    &nbsp;&nbsp;\n                    <button\n                      className=\"btn btn-sm btn-outline-danger\"\n                      onClick={handleDelete}\n                    >\n                      <i className=\"ion-trash-a\"></i>\n                      &nbsp; Delete Article\n                    </button>\n                  </div>\n                ) : (\n                  <div>\n                    <button\n                      className=\"btn btn-sm btn-outline-secondary\"\n                      onClick={() => handleFollowing(article?.author?.username)}\n                    >\n                      {followState ? (\n                        <i></i>\n                      ) : (\n                        <i className=\"ion-plus-round\"></i>\n                      )}\n                      &nbsp;{\" \"}\n                      {followState\n                        ? `Unfollow ${article?.author?.username}`\n                        : `Follow ${article?.author?.username}`}\n                      <span className=\"counter\"></span>\n                    </button>\n                    &nbsp;&nbsp;\n                    <button\n                      className={\n                        likeState\n                          ? \"btn btn-sm btn-primary\"\n                          : \"btn btn-sm btn-outline-primary\"\n                      }\n                      onClick={() => handleFavorite(article?.slug)}\n                    >\n                      {likeState ? <i></i> : <i className=\"ion-heart\"></i>}\n                      &nbsp; {likeState ? \"Unfavorite Post\" : \"Favorite Post\"}\n                      <span className=\"counter\">({likeCount})</span>\n                    </button>\n                  </div>\n                )}\n              </div>\n            ) : (\n              <div></div>\n            )}\n          </div>\n        </div>\n      </div>\n      <div className=\"container page\">\n        <div className=\"row article-content\">\n          <div className=\"col-xs-12\">\n            <p>{article?.body}</p>\n          </div>\n        </div>\n        <div className=\"tag-list\">\n          {article?.tagList?.map((tag: any) => (\n            <span\n              key={tag}\n              ng-repeat=\"tag in $ctrl.article.tagList\"\n              className=\"tag-default tag-pill ng-binding ng-scope\"\n            >\n              {tag}\n            </span>\n          ))}\n        </div>\n        <hr />\n        <Comment slug={slug} />\n      </div>\n      {/* <Route path=\"/editor/:slug\">\n        <Editor />\n      </Route> */}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}