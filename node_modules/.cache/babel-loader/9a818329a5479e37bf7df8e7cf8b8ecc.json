{"ast":null,"code":"var _jsxFileName = \"/Users/nguyencanhnguyen/Public/Development/condi-app/src/pages/Home/components/ArticlePreview/ArticleItem/Components/index.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { deleteFavorite, postFavorite } from \"../apis\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ArticleItem({\n  feed\n}) {\n  _s();\n\n  var _feed$author, _feed$author2, _feed$author3, _feed$tagList;\n\n  const token = window.localStorage.getItem(\"jwtToken\");\n  const [likeCount, setLikeCount] = useState(feed === null || feed === void 0 ? void 0 : feed.favoritesCount);\n  const [likeState, setLikeState] = useState(feed === null || feed === void 0 ? void 0 : feed.favorited);\n\n  const handleLike = slug => {\n    if (token) {\n      if (likeState) {\n        deleteFavorite(token, slug).then(res => {\n          var _res$data$article;\n\n          setLikeCount((_res$data$article = res.data.article) === null || _res$data$article === void 0 ? void 0 : _res$data$article.favoritesCount);\n          setLikeState(false);\n        });\n      } else {\n        postFavorite(token, slug).then(res => {\n          var _res$data$article2;\n\n          setLikeCount((_res$data$article2 = res.data.article) === null || _res$data$article2 === void 0 ? void 0 : _res$data$article2.favoritesCount);\n          setLikeState(true);\n        });\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"article-preview\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"article-meta\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: (feed === null || feed === void 0 ? void 0 : (_feed$author = feed.author) === null || _feed$author === void 0 ? void 0 : _feed$author.image) ? feed.author.image : \"https://static.productionready.io/images/smiley-cyrus.jpg\",\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"info\",\n        children: [/*#__PURE__*/_jsxDEV(NavLink, {\n          to: \"/profile/\" + (feed === null || feed === void 0 ? void 0 : (_feed$author2 = feed.author) === null || _feed$author2 === void 0 ? void 0 : _feed$author2.username),\n          children: /*#__PURE__*/_jsxDEV(\"h5\", {\n            children: feed === null || feed === void 0 ? void 0 : (_feed$author3 = feed.author) === null || _feed$author3 === void 0 ? void 0 : _feed$author3.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"date\",\n          children: feed === null || feed === void 0 ? void 0 : feed.updatedAt\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: likeState ? \"btn btn-primary btn-sm pull-xs-right\" : \"btn btn-outline-primary btn-sm pull-xs-right\",\n        onClick: () => handleLike(feed === null || feed === void 0 ? void 0 : feed.slug),\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"ion-heart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), \" \", likeCount]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"preview-link\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: feed === null || feed === void 0 ? void 0 : feed.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: feed === null || feed === void 0 ? void 0 : feed.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(NavLink, {\n        to: \"/article/\" + (feed === null || feed === void 0 ? void 0 : feed.slug),\n        className: \"preview-link\",\n        children: \"Read more...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"tag-list\",\n        children: (_feed$tagList = feed.tagList) === null || _feed$tagList === void 0 ? void 0 : _feed$tagList.map((tag, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"tag-default tag-pill tag-outline ng-binding ng-scope\",\n          \"ng-repeat\": \"tag in $ctrl.article.tagList\",\n          children: tag\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ArticleItem, \"T3kp9NWKTILNrAvLRwqbwZO5qjg=\");\n\n_c = ArticleItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"ArticleItem\");","map":{"version":3,"sources":["/Users/nguyencanhnguyen/Public/Development/condi-app/src/pages/Home/components/ArticlePreview/ArticleItem/Components/index.tsx"],"names":["useState","NavLink","deleteFavorite","postFavorite","ArticleItem","feed","token","window","localStorage","getItem","likeCount","setLikeCount","favoritesCount","likeState","setLikeState","favorited","handleLike","slug","then","res","data","article","author","image","username","updatedAt","title","description","tagList","map","tag","i"],"mappings":"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","sourcesContent":["import { useState } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { Article } from \"../../../../../../interfaces\";\nimport { deleteFavorite, postFavorite } from \"../apis\";\n\nexport default function ArticleItem({ feed }: { feed: Article }) {\n  const token = window.localStorage.getItem(\"jwtToken\");\n  const [likeCount, setLikeCount] = useState<number>(feed?.favoritesCount);\n  const [likeState, setLikeState] = useState<boolean>(feed?.favorited);\n\n  const handleLike = (slug: string) => {\n    if (token) {\n      if (likeState) {\n        deleteFavorite(token, slug).then((res) => {\n          setLikeCount(res.data.article?.favoritesCount);\n          setLikeState(false);\n        });\n      } else {\n        postFavorite(token, slug).then((res) => {\n          setLikeCount(res.data.article?.favoritesCount);\n          setLikeState(true);\n        });\n      }\n    }\n  };\n  return (\n    <div className=\"article-preview\">\n      <div className=\"article-meta\">\n        <img\n          src={\n            feed?.author?.image\n              ? feed.author.image\n              : \"https://static.productionready.io/images/smiley-cyrus.jpg\"\n          }\n          alt=\"\"\n        />\n        <div className=\"info\">\n          <NavLink to={\"/profile/\" + feed?.author?.username}>\n            <h5>{feed?.author?.username}</h5>\n          </NavLink>\n          <span className=\"date\">{feed?.updatedAt}</span>\n        </div>\n        <button\n          className={\n            likeState\n              ? \"btn btn-primary btn-sm pull-xs-right\"\n              : \"btn btn-outline-primary btn-sm pull-xs-right\"\n          }\n          onClick={() => handleLike(feed?.slug)}\n        >\n          <i className=\"ion-heart\"></i> {likeCount}\n        </button>\n      </div>\n      <div className=\"preview-link\">\n        <h1>{feed?.title}</h1>\n        <p>{feed?.description}</p>\n        <NavLink to={\"/article/\" + feed?.slug} className=\"preview-link\">\n          Read more...\n        </NavLink>\n        <ul className=\"tag-list\">\n          {feed.tagList?.map((tag, i) => (\n            <li\n              key={i}\n              className=\"tag-default tag-pill tag-outline ng-binding ng-scope\"\n              ng-repeat=\"tag in $ctrl.article.tagList\"\n            >\n              {tag}\n            </li>\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}