(this["webpackJsonpmock-blog-app"]=this["webpackJsonpmock-blog-app"]||[]).push([[0],{156:function(e,t,n){},157:function(e,t,n){},286:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(19),s=n.n(c),i=(n(156),n(4)),o=(n(157),n(21)),r=n(39),l=n(22),d=n(1);function u(e){var t=e.tags,n=e.setTags;return Object(d.jsx)("div",{className:"tag-list",children:null===t||void 0===t?void 0:t.map((function(e,t){return Object(d.jsxs)("span",{"ng-repeat":"tag in $ctrl.article.tagList",className:"tag-default tag-pill ng-binding ng-scope",children:[Object(d.jsx)("i",{className:"ion-close-round","ng-click":"$ctrl.removeTag(tag)",onClick:function(){return function(e){n((function(t){return t.filter((function(t,n){return n!==e}))}))}(t)}}),e]},t)}))})}var j=n(7),b=n.n(j),m="https://api.realworld.io",h=function(e){return b.a.get("".concat(m,"/api/user"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})},v=n(9);var p=Object(r.a)({mapPropsToValues:function(){return{title:"",description:"",content:""}},validationSchema:l.a().shape({title:l.b().required("Please provide a title"),description:l.b().required("Please provide a description"),content:l.b().required("Please provide content")}),handleSubmit:function(){}})((function(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)([]),l=Object(i.a)(r,2),j=l[0],h=l[1],p=window.localStorage.getItem("jwtToken"),O=Object(v.h)().slug,f=e.setFieldValue,g=Object(v.g)();return Object(a.useEffect)((function(){O&&function(e){return b.a.get("".concat(m,"/api/articles/").concat(e),{headers:{"Content-Type":"application/json"}})}(O).then((function(e){var t=e.data.article;f("title",t.title),f("description",t.description),f("content",t.body),h(t.tagList)}))}),[O,f]),Object(d.jsx)("div",{className:"editor-page",children:Object(d.jsx)("div",{className:"container page",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-md-10 offset-md-1 col-xs-12",children:Object(d.jsx)("form",{onSubmit:function(t){t.preventDefault(),O?function(e,t,n,a){return b.a.put("".concat(m,"/api/articles/").concat(a),{article:{title:null===e||void 0===e?void 0:e.title,description:null===e||void 0===e?void 0:e.description,body:null===e||void 0===e?void 0:e.content,tagList:t}},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}})}(e.values,j,p,O).then((function(e){g.push("/article/".concat(O))})):function(e,t,n){return b.a.post("".concat(m,"/api/articles"),{article:{title:null===e||void 0===e?void 0:e.title,description:null===e||void 0===e?void 0:e.description,body:null===e||void 0===e?void 0:e.content,tagList:t}},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}})}(e.values,j,p).then((function(e){var t=e.data.article.slug;g.push("/article/".concat(t))}))},children:Object(d.jsxs)("fieldset",{children:[Object(d.jsxs)("fieldset",{className:"form-group",children:[Object(d.jsx)("p",{className:"error-messages",children:e.errors.title}),Object(d.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Article Title",name:"title",value:e.values.title,onChange:e.handleChange})]}),Object(d.jsxs)("fieldset",{className:"form-group",children:[Object(d.jsx)("p",{className:"error-messages",children:e.errors.description}),Object(d.jsx)("textarea",{rows:6,className:"form-control",placeholder:"What's this article about?",name:"description",value:e.values.description,onChange:e.handleChange})]}),Object(d.jsxs)("fieldset",{className:"form-group",children:[Object(d.jsx)("p",{className:"error-messages",children:e.errors.content}),Object(d.jsx)("textarea",{rows:6,className:"form-control",placeholder:"Write your article (in markdown)",name:"content",value:e.values.content,onChange:e.handleChange})]}),Object(d.jsxs)("fieldset",{className:"form-group",children:[Object(d.jsx)("input",{type:"text",className:"form-control",placeholder:O?"Don't change tags":"Enter tags",value:c,onKeyDown:function(e){var t=e.key,n=c.trim();if("Enter"===t&&n.length&&!(null===j||void 0===j?void 0:j.includes(n))&&(e.preventDefault(),h((function(e){return[].concat(Object(o.a)(e),[n])})),s("")),"Backspace"===t&&!c.length&&j.length){e.preventDefault();var a=Object(o.a)(j),i=a.pop();h(a),s(i)}},onChange:function(e){var t=e.target.value;s(t)},onKeyUp:function(){}}),Object(d.jsx)(u,{tags:j,setTags:h})]}),Object(d.jsx)("button",{className:"btn btn-lg pull-xs-right btn-primary",disabled:!e.isValid||!e.values.title,children:"Publish Article"})]})})})})})})}));function O(){return Object(d.jsx)("footer",{children:Object(d.jsxs)("div",{className:"container",style:{textAlign:"center"},children:[Object(d.jsx)("a",{href:"/",className:"logo-font",children:"conduit"}),Object(d.jsxs)("span",{className:"attribution",children:["An interactive learning project from"," ",Object(d.jsx)("a",{href:"https://thinkster.io",children:"Thinkster"}),". Code & design licensed under MIT."]})]})})}var f,g=n(14),x=n(8),N=n(137),w=n(138).a.div(f||(f=Object(N.a)(["\n  margin-left: auto;\n  margin-right: auto;\n  padding-left: 15px;\n  padding-right: 15px;\n  width: 90%;\n  .navbar {\n    font-size: 1.2rem;\n  }\n\n  .flex-box {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .nav-menu {\n    display: grid;\n    grid-template-columns: repeat(5, auto);\n    grid-gap: 10px;\n    list-style: none;\n    text-align: center;\n    width: 60vw;\n    justify-content: end;\n  }\n\n  .nav-links {\n    color: white;\n    text-decoration: none;\n    padding: 0.5rem 1rem;\n  }\n\n  .nav-links:hover {\n    background-color: #1888ff;\n    border-radius: 4px;\n    transition: all 0.2s ease-out;\n  }\n\n  .fa-bars {\n    color: #5db85b;\n  }\n\n  .nav-links-mobile {\n    display: none;\n  }\n\n  .menu-icon {\n    display: none;\n  }\n\n  @media screen and (max-width: 756px) {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    background-color: white;\n\n    z-index: 1;\n\n    .NavbarItems {\n      position: relative;\n    }\n\n    .nav-item {\n      display: flex;\n      align-items: center;\n      height: 100px;\n    }\n\n    .nav-item .nav-link {\n      color: #fff;\n      text-align: center;\n      padding: 2rem;\n      width: 100%;\n      font-size: 1.5rem;\n      display: table;\n      font-family: titillium web, sans-serif;\n    }\n\n    .nav-menu {\n      display: flex;\n      flex-direction: column;\n      width: 130%;\n      height: calc(100vh - 60px);\n      padding-bottom: 30px;\n      position: absolute;\n      top: 60px;\n      margin-left: -15%;\n      left: -100%;\n      opacity: 1;\n      transition: all 0.5s ease;\n    }\n\n    .nav-menu.active {\n      background: #5db85b;\n      left: 0;\n      opacity: 1;\n      transition: all 0.5s ease;\n      z-index: 1;\n    }\n\n    .nav-links {\n      text-align: center;\n      padding: 2rem;\n      width: 100%;\n      display: table;\n    }\n\n    .nav-links:hover {\n      background-color: #1888ff;\n      border-radius: 0;\n    }\n\n    .navbar-logo {\n      position: absolute;\n      top: 0;\n      left: 0;\n      transform: translate(25%, 50%);\n    }\n\n    .menu-icon {\n      display: block;\n      font-size: 1.8rem;\n      cursor: pointer;\n      float: right;\n    }\n\n    .flex-box {\n      display: block;\n    }\n\n    .fa-times {\n      color: #5db85b;\n      font-size: 2rem;\n    }\n\n    .nav-links-mobile {\n      display: block;\n      text-align: center;\n      padding: 1.5rem;\n      margin: 2rem auto;\n      border-radius: 4px;\n      width: 80%;\n      background: #1888ff;\n      text-decoration: none;\n      color: #fff;\n      font-size: 1.5rem;\n    }\n\n    .nav-links-mobile:hover {\n      background: #fff;\n      color: #1888ff;\n      transition: 250ms;\n    }\n\n    button {\n      display: none;\n    }\n  }\n"])));function C(e){var t=e.userToken,n=Object(g.c)((function(e){var t;return null===(t=e.user)||void 0===t?void 0:t.data})),c=Object(a.useState)(!1),s=Object(i.a)(c,2),o=s[0],r=s[1],l=function(){return r(!1)};return t?Object(d.jsxs)(w,{children:["",Object(d.jsx)("nav",{className:"navbar navbar-light",children:Object(d.jsxs)("div",{className:"flex-box",children:[Object(d.jsx)(x.c,{className:"navbar-brand",to:"/",onClick:l,children:"conduit"}),Object(d.jsx)("div",{className:"menu-icon",onClick:function(){return r(!o)},children:Object(d.jsx)("i",{className:o?"fas fa-times":"fas fa-bars"})}),Object(d.jsx)("div",{children:Object(d.jsxs)("ul",{className:o?"nav navbar-nav pull-xs-right nav-menu active":"nav navbar-nav pull-xs-right nav-menu",children:[Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(x.c,{className:"nav-link",to:"/",exact:!0,onClick:l,children:"Home"})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsxs)(x.c,{className:"nav-link",to:"/editor",onClick:l,children:[Object(d.jsx)("i",{className:"ion-compose"}),"\xa0New Article"]})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsxs)(x.c,{className:"nav-link",to:"/settings",onClick:l,children:[Object(d.jsx)("i",{className:"ion-gear-a"}),"\xa0Settings"]})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsxs)(x.c,{className:"nav-link",to:"/profile/".concat(n.username),onClick:l,children:[Object(d.jsx)("i",{className:"ion-gear-a"}),"\xa0",null===n||void 0===n?void 0:n.username]})})]})})]})})]}):Object(d.jsxs)("div",{className:"header-custom",children:[" ",Object(d.jsx)("nav",{className:"navbar navbar-light",children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)(x.c,{className:"navbar-brand",to:"/",children:"conduit"}),Object(d.jsxs)("ul",{className:"nav navbar-nav pull-xs-right",children:[Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(x.c,{className:"nav-link",to:"/",exact:!0,children:"Home"})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(x.c,{className:"nav-link",to:"/login",children:"Sign in"})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(x.c,{className:"nav-link",to:"/register",children:"Sign up"})})]})]})})]})}var y={user:{isLoading:!1,data:{}}},k=function(e,t){return b.a.post("".concat(m,"/api/articles/").concat(t,"/favorite"),{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":!0},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})},S=function(e,t){return b.a.delete("".concat(m,"/api/articles/").concat(t,"/favorite"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})};function A(e){var t,n,c,s,o=e.feed,r=window.localStorage.getItem("jwtToken"),l=Object(a.useState)(null===o||void 0===o?void 0:o.favoritesCount),u=Object(i.a)(l,2),j=u[0],b=u[1],m=Object(a.useState)(null===o||void 0===o?void 0:o.favorited),h=Object(i.a)(m,2),v=h[0],p=h[1];return Object(d.jsxs)("div",{className:"article-preview",children:[Object(d.jsxs)("div",{className:"article-meta",children:[Object(d.jsx)("img",{src:(null===o||void 0===o||null===(t=o.author)||void 0===t?void 0:t.image)?o.author.image:"https://static.productionready.io/images/smiley-cyrus.jpg",alt:""}),Object(d.jsxs)("div",{className:"info",children:[Object(d.jsx)(x.c,{to:"/profile/"+(null===o||void 0===o||null===(n=o.author)||void 0===n?void 0:n.username),children:Object(d.jsx)("h5",{children:null===o||void 0===o||null===(c=o.author)||void 0===c?void 0:c.username})}),Object(d.jsx)("span",{className:"date",children:null===o||void 0===o?void 0:o.updatedAt})]}),Object(d.jsxs)("button",{className:v?"btn btn-primary btn-sm pull-xs-right":"btn btn-outline-primary btn-sm pull-xs-right",onClick:function(){return e=null===o||void 0===o?void 0:o.slug,void(r&&(v?S(r,e).then((function(e){var t;b(null===(t=e.data.article)||void 0===t?void 0:t.favoritesCount),p(!1)})):k(r,e).then((function(e){var t;b(null===(t=e.data.article)||void 0===t?void 0:t.favoritesCount),p(!0)}))));var e},children:[Object(d.jsx)("i",{className:"ion-heart"})," ",j]})]}),Object(d.jsxs)("div",{className:"preview-link",children:[Object(d.jsx)("h1",{children:null===o||void 0===o?void 0:o.title}),Object(d.jsx)("p",{children:null===o||void 0===o?void 0:o.description}),Object(d.jsx)(x.c,{to:"/article/"+(null===o||void 0===o?void 0:o.slug),className:"preview-link",children:"Read more..."}),Object(d.jsx)("ul",{className:"tag-list",children:null===(s=o.tagList)||void 0===s?void 0:s.map((function(e,t){return Object(d.jsx)("li",{className:"tag-default tag-pill tag-outline ng-binding ng-scope","ng-repeat":"tag in $ctrl.article.tagList",children:e},t)}))})]})]})}function T(e){var t=e.feeds;return Object(d.jsx)("div",{children:t&&t.length>0?t.map((function(e){return Object(d.jsx)("div",{children:Object(d.jsx)(A,{feed:e})},e.slug)})):Object(d.jsx)("p",{children:"No articles are here... yet."})})}function U(e){var t=e.tags,n=e.getArticlesByTag;return Object(d.jsx)("div",{className:"col-md-3 col-xs-12",children:Object(d.jsxs)("div",{className:"sidebar",children:[Object(d.jsx)("p",{children:"Popular Tags"}),Object(d.jsx)("div",{className:"tag-list",children:t&&t.length>0?t.map((function(e,t){return Object(d.jsx)("span",{children:Object(d.jsx)(x.b,{to:"",className:"tag-pill tag-default",onClick:function(){return function(e){n(e)}(e)},children:e})},t)})):Object(d.jsx)("p",{children:"No tags are here... yet."})})]})})}var I=n(318);function E(e){for(var t=e.pageNumber,n=e.currentPage,a=e.onSelectPage,c=e.handlePrev,s=e.handleNext,i=[],o=function(e){i.push(Object(d.jsx)(I.a.Item,{active:e===n,onClick:function(){return a(e)},activeLabel:"",children:e},e))},r=1;r<=t;r++)o(r);return Object(d.jsx)("div",{children:Object(d.jsxs)(I.a,{size:"sm",children:[1!==n&&Object(d.jsx)(I.a.Prev,{onClick:c}),i,n!==t&&Object(d.jsx)(I.a.Next,{onClick:s})]})})}function L(e){e.userToken;var t=Object(a.useState)([]),n=Object(i.a)(t,2),c=n[0],s=n[1],o=Object(a.useState)(0),r=Object(i.a)(o,2),l=r[0],u=r[1],j=Object(a.useState)(0),h=Object(i.a)(j,2),v=h[0],p=h[1],O=Object(a.useState)(1),f=Object(i.a)(O,2),g=f[0],N=f[1],w=Object(a.useState)(!0),C=Object(i.a)(w,2),y=C[0],k=C[1],S=Object(a.useState)([]),A=Object(i.a)(S,2),I=A[0],L=A[1],z=Object(a.useState)(""),B=Object(i.a)(z,2),P=B[0],q=B[1],F=window.localStorage.getItem("jwtToken"),R=Object(a.useState)("Global"),Y=Object(i.a)(R,2),M=Y[0],V=Y[1];Object(a.useEffect)((function(){p(5*(g-1))}),[g]);var W=function(){"Global"!==M&&(k(!0),V("Global"),q(""),N(1))};Object(a.useEffect)((function(){switch(M){case"Your":(function(e,t){return b.a.get("".concat(m,"/api/articles/feed?limit=").concat(5,"&offset=").concat(t),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})})(F,v).then((function(e){s(e.data.articles),u(e.data.articlesCount),k(!1)}));break;case"Global":F?function(e,t){return b.a.get("".concat(m,"/api/articles?limit=").concat(5,"&offset=").concat(t),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}(F,v).then((function(e){s(e.data.articles),u(e.data.articlesCount),k(!1)})):function(e){return b.a.get("".concat(m,"/api/articles?limit=").concat(5,"&offset=").concat(e),{headers:{"Content-Type":"application/json"}})}(v).then((function(e){s(e.data.articles),u(e.data.articlesCount),k(!1)}));break;case"Tags":F?function(e,t,n){return b.a.get("".concat(m,"/api/articles?limit=").concat(5,"&offset=").concat(n),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},params:{tag:e}})}(P,F,v).then((function(e){s(e.data.articles),u(e.data.articlesCount),q(P),k(!1)})):function(e,t){return b.a.get("".concat(m,"/api/articles?limit=").concat(5,"&offset=").concat(t),{headers:{"Content-Type":"application/json"},params:{tag:e}})}(P,v).then((function(e){s(e.data.articles),u(e.data.articlesCount),q(P),k(!1)}))}}),[M,v,F,P]),Object(a.useEffect)((function(){b.a.get("".concat(m,"/api/tags")).then((function(e){L(e.data.tags)})),W()}),[]);return Object(d.jsxs)("div",{className:"home-page",children:[Object(d.jsx)("div",{className:"banner",children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("h1",{className:"logo-font",children:"conduit"}),Object(d.jsx)("p",{children:"A place to share your knowledge."})]})}),Object(d.jsx)("div",{className:"container page",children:Object(d.jsxs)("div",{className:"row",children:[Object(d.jsxs)("div",{className:"col-md-9 col-xs-12",children:[Object(d.jsx)("div",{className:"feed-toggle",children:Object(d.jsxs)("ul",{className:"nav nav-pills outline-active",children:[F?Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(x.c,{className:"Your"===M?"nav-link active":"nav-link",to:"",activeClassName:"selected",onClick:function(){"Your"!==M&&(k(!0),V("Your"),q(""),N(1))},children:"Your feed"})}):Object(d.jsx)("li",{}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(x.c,{className:"Global"===M?"nav-link active":"nav-link",to:"",activeClassName:"selected",onClick:W,children:"Global Feed"})}),P?Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsxs)(x.c,{className:"Tags"===M?"nav-link active":"nav-link",to:"",activeClassName:"selected",children:["# ",P]})}):Object(d.jsx)("li",{})]})}),y?Object(d.jsx)("div",{children:"Loading..."}):Object(d.jsxs)("div",{children:[Object(d.jsx)(T,{feeds:c}),l>5&&Object(d.jsx)("div",{style:{display:"flex",justifyContent:"center",width:"100%"},children:Object(d.jsx)(E,{pageNumber:Math.ceil(l/5),currentPage:g,onSelectPage:function(e){N(e),k(!0)},handlePrev:function(){N(g-1),k(!0)},handleNext:function(){N(g+1),k(!0)}})})]})]}),Object(d.jsx)(U,{tags:I,getArticlesByTag:function(e){e!==P&&(k(!0),q(e),V("Tags"),N(1))}})]})})]})}var z=n(319),B=n(95),P=function(e){return e().type},q=(Object(z.a)({getUserByTokenRequest:function(e){return e},getUserByTokenSuccess:function(e){return e},getUserByTokenFailure:function(e){return e}}),Object(z.a)({saveUserInStoreRequest:function(e){return e},saveUserInStoreSuccess:function(e){return e},saveUserInStoreFailure:function(e){return e}})),F=Object(B.a)("DELETE_USER");var R=Object(r.a)({mapPropsToValues:function(){return{email:"",password:""}},validationSchema:l.a().shape({email:l.b().email().required("Email is required"),password:l.b().required("Please provide a valid password")}),handleSubmit:function(){}})((function(e){var t=Object(g.b)(),n=Object(v.g)(),c=Object(a.useState)(!1),s=Object(i.a)(c,2),o=s[0],r=s[1];return Object(d.jsxs)("form",{onSubmit:function(a){a.preventDefault();var c,s=e.values,i=s.email,o=s.password;(c={email:i,password:o},b.a.post("".concat(m,"/api/users/login"),{user:{email:c.email,password:c.password},"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":!0},{headers:{"Content-Type":"application/json"}})).then((function(e){var a=e.data.user;n.push("/"),t(q.saveUserInStoreSuccess({user:a})),window.localStorage.setItem("jwtToken",a.token)})).catch((function(e){return r(!0)}))},children:[Object(d.jsxs)("fieldset",{className:"form-group",children:[Object(d.jsx)("p",{className:"error-messages",children:o&&"Email or password is incorrect"}),Object(d.jsx)("p",{className:"error-messages",children:e.errors.email}),Object(d.jsx)("input",{className:"form-control form-control-lg",type:"text",placeholder:"Email",name:"email",value:e.values.email,onChange:e.handleChange})]}),Object(d.jsxs)("fieldset",{className:"form-group",children:[Object(d.jsx)("p",{className:"error-messages",children:e.errors.password}),Object(d.jsx)("input",{className:"form-control form-control-lg",type:"password",placeholder:"Password",name:"password",value:e.values.password,onChange:e.handleChange})]}),Object(d.jsx)("button",{className:"btn btn-lg btn-primary pull-xs-right",disabled:!e.isValid||!e.values.email,children:"Sign in"})]})}));function Y(){return Object(d.jsx)("div",{className:"auth-page",children:Object(d.jsx)("div",{className:"container page",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"col-md-6 offset-md-3 col-xs-12",children:[Object(d.jsx)("h1",{className:"text-xs-center",children:"Sign in"}),Object(d.jsx)("p",{className:"text-xs-center",children:Object(d.jsx)(x.b,{to:"/register",children:"Need an account?"})}),Object(d.jsx)(R,{})]})})})})}var M=function(e,t){return b.a.get("".concat(m,"/api/profiles/").concat(t),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})},V=n(310);function W(e){var t=e.slug,n=Object(a.useState)([]),c=Object(i.a)(n,2),s=c[0],o=c[1],r=window.localStorage.getItem("jwtToken"),l=Object(g.c)((function(e){return e.user.data})),u=Object(v.i)().url,j=Object(a.useState)("My"),h=Object(i.a)(j,2),p=h[0],O=h[1],f=Object(a.useState)(0),N=Object(i.a)(f,2),w=N[0],C=N[1],y=Object(a.useState)(0),k=Object(i.a)(y,2),S=k[0],A=k[1],U=Object(a.useState)(1),I=Object(i.a)(U,2),L=I[0],z=I[1],B=Object(a.useState)(!0),P=Object(i.a)(B,2),q=P[0],F=P[1];Object(a.useEffect)((function(){A(5*(L-1))}),[L]);Object(a.useEffect)((function(){switch(p){case"My":(function(e,t,n){return b.a.get("".concat(m,"/api/articles/?author=").concat(e,"&limit=").concat(5,"&offset=").concat(n),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})})(t,r,S).then((function(e){o(e.data.articles),C(e.data.articlesCount),F(!1)}));break;case"Favorited":(function(e,t,n){return b.a.get("".concat(m,"/api/articles/?favorited=").concat(e,"&limit=").concat(5,"&offset=").concat(n),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})})(t,r,S).then((function(e){o(e.data.articles),C(e.data.articlesCount),F(!1)}))}}),[p,S,r,t]);return Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"col-xs-12 col-md-10 offset-md-1",children:[Object(d.jsx)("div",{className:"articles-toggle",children:Object(d.jsxs)("ul",{className:"nav nav-pills outline-active",children:[Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(x.c,{className:"My"===p?"nav-link active":"nav-link",to:u,activeClassName:"selected",onClick:function(){O("My"),F(!0),z(1)},children:t===l.username?"My articles":"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1),"'s articles")})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(x.c,{className:"Favorited"===p?"nav-link active":"nav-link",to:u,activeClassName:"selected",onClick:function(){O("Favorited"),F(!0),z(1)},children:"Favorited articles"})})]})}),q?Object(d.jsx)("div",{children:"Loading..."}):Object(d.jsxs)("div",{children:[Object(d.jsx)(T,{feeds:s}),w>5&&Object(d.jsx)(V.a,{style:{display:"flex",justifyContent:"center"},children:Object(d.jsx)(E,{pageNumber:Math.ceil(w/5),currentPage:L,onSelectPage:function(e){z(e),F(!0)},handlePrev:function(){z(L-1),F(!0)},handleNext:function(){z(L+1),F(!0)}})})]})]})})})}var D=function(e,t){return b.a.post("".concat(m,"/api/profiles/").concat(t,"/follow"),{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":!0},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})},K=function(e,t){return b.a.delete("".concat(m,"/api/profiles/").concat(t,"/follow"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})};function X(e){var t=e.slug,n=Object(g.c)((function(e){return e.user.data})),c=Object(a.useState)(),s=Object(i.a)(c,2),o=s[0],r=s[1],l=Object(v.g)(),u=window.localStorage.getItem("jwtToken");Object(a.useEffect)((function(){M(u,t).then((function(e){r(e.data.profile)}))}),[t,u]);return Object(d.jsx)("div",{className:"profile-page",children:Object(d.jsx)("div",{className:"user-info",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"col-xs-12 col-md-10 offset-md-1",children:[(null===o||void 0===o?void 0:o.image)?Object(d.jsx)("img",{src:null===o||void 0===o?void 0:o.image,className:"user-img",alt:""}):Object(d.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAMAAAAL34HQAAAAOVBMVEX///+4uLizs7Pa2tq8vLy5ubnIyMj6+vrf39/u7u7z8/P5+fm/v7/CwsLQ0NDT09Pl5eXp6emvr6+kWr5EAAADj0lEQVR4nO2ci5aqMAxFpS3lLXX+/2MvIKMOojTNSXTd1fMFe6V5kURPp6ysrKysrKz/XV0TrB0nWRua9tM0i9owDq4szKqidMMYPozWBe8mlI2MKX39ObJ23GG6kZ2bj0A15/IF00pWfACss++hrmBjp0sVhkOoBayvFaGqMYbpCnZWM1jro0y1cg1KHtb0BKqJy100qC6ORDUrKFAdR+AHuBq6rSaVwu/Y0vzqJifq9xUlBh9lBsk8YROp5vwlR3VJhZq5xPJ9FVdxXshJtTrpT7iYS+gZW8ehmiQTjSPLWFLmYhtLxlw8z5IyV9WzjVWU+GAMfKrCWDjWmf2GE5ZHU3WAN5yEfsULwFgCFYgfhwsWOhZTO5oN1lBBqaoBQQWv14AUv8hgE32DoSoM9mMDE4jwUAwoLGyer1FYY8bKWH/1pS7/pQkClk6xMxJU8QF/ZfA+qO/qwX0gomcW6Jq/tA3E+Dy4gcB8Jkp8KHInELPwH2SskdsNCz96Q3TzTmCAyq/W4Dp9Ff+7WmAycuKnLqEpJddcMsbiepeIZ81K3mEskttjNCUDS3Ablf6MAoPAB6X2N8ZjRzUbJbqXQbd/W7VJbarYvufORV90Gtkl58pFtZcK1ZTtaf5lBqXjpI4Sj8brnUzVsVcHprCimWGjJu4hjVe5GHlQOI5I42pNU11V2YNGx1nl661Zbe0P5hJO/UCwC758dRb48Iim9EHPYq3tj5l+yXqrY7L5fjKOaSVzozxYR4RawYSfsk67SJI9XYxMortgXqpeVxGnpm+4SpkyRLqf3DeYgOsnXCo+ceFvKi2X6Srw9w9i6DYL+mldYebMC9cZ5vjELvmAy4NSK2/0sMMFsReYCsWF86sbF2D+horBP1zseEStXTdczMrNmmi9Uckq3B1oX/ck3o0z3t1vXAy3Ry3Od7mSl2Wo66h9JZ9ySeSGu1KzhFQU/ioxGtFFZ6u07aKkv69cCc0qvELvYCWYS95YRcpmQ95YKeZCrKYjRDWXXNl5FLUEdahTnwMRl+oybdaziI2XhsMvWCSnb4Xrzl2kBbbWGxJfUScOFyxCLGLOj+LUx7dd0i3NowjtjZ5rkZxLz7UozlV5PaqiiJ5IaFWeq6LrD+okN1KxPo/4uRhBsR+MtS5WbChiTl9jFX19I/vZ+oQV+xmrmbYIietLsfyPUdRPbCcYrKoU/sQiKysrKysrC6t/1bE0CID+AmgAAAAASUVORK5CYII=",className:"user-img",alt:""}),Object(d.jsx)("h4",{children:null===o||void 0===o?void 0:o.username}),Object(d.jsx)("p",{children:(null===o||void 0===o?void 0:o.bio)||"..."}),n.username!==(null===o||void 0===o?void 0:o.username)?Object(d.jsxs)("button",{className:(null===o||void 0===o?void 0:o.following)?"btn btn-sm btn-primary ":"btn btn-sm btn-outline-primary ",onClick:function(){(null===o||void 0===o?void 0:o.following)?K(u,null===o||void 0===o?void 0:o.username).then((function(e){r(e.data.profile)})):D(u,null===o||void 0===o?void 0:o.username).then((function(e){r(e.data.profile)}))},children:[(null===o||void 0===o?void 0:o.following)?Object(d.jsx)("i",{}):Object(d.jsx)("i",{className:"ion-plus-round"}),"\xa0"," ",(null===o||void 0===o?void 0:o.following)?"Unfollow ".concat(null===o||void 0===o?void 0:o.username):"Follow ".concat(null===o||void 0===o?void 0:o.username),Object(d.jsx)("span",{className:"counter"})]}):Object(d.jsxs)("button",{className:"btn btn-sm btn-outline-secondary action-btn",onClick:function(){l.push("/settings")},children:[Object(d.jsx)("i",{className:"ion-plus-round"}),"\xa0 Edit profile"]})]})})})})})}function G(){var e=Object(v.h)().slug;return Object(d.jsxs)("div",{children:[Object(d.jsx)(X,{slug:e}),Object(d.jsx)(W,{slug:e})]})}var J=n(11);var Z=Object(r.a)({mapPropsToValues:function(){return{imageURL:"",username:"",bio:"",email:"",password:""}},validationSchema:l.a().shape({username:l.b().required("Username is required"),email:l.b().email().required("Email is required")}),handleSubmit:function(){}})((function(e){var t=Object(g.b)(),n=Object(v.g)(),c=Object(g.c)((function(e){return e.user.data})),s=e.setFieldValue;Object(a.useEffect)((function(){s("imageURL",c.image),s("username",c.username),s("bio",c.bio),s("email",c.email)}),[c,s]);var o=Object(a.useState)(),r=Object(i.a)(o,2),l=r[0],u=r[1],j=window.localStorage.getItem("jwtToken");return Object(d.jsx)("form",{onSubmit:function(a){a.preventDefault();var c=e.values;(function(e,t){return b.a.put("".concat(m,"/api/user"),{user:{image:e.imageURL,bio:e.bio,username:e.username,email:e.email,password:e.password},"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":!0},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})})({imageURL:c.imageURL,bio:c.bio,username:c.username,email:c.email,password:c.password},j).then((function(e){var a=e.data.user;t(q.saveUserInStoreSuccess(a)),n.push("/profile/".concat(a.username))})).catch((function(e){var t=Object(J.a)({},e.response.data.errors);u(t)}))},children:Object(d.jsxs)("fieldset",{children:[Object(d.jsx)("ul",{className:"form-group",children:l&&Object.keys(l).map((function(e,t){return Object(d.jsx)("li",{children:Object(d.jsxs)("p",{className:"error-messages",children:[e," ",l[e]]})},t)}))}),Object(d.jsx)("fieldset",{className:"form-group",children:Object(d.jsx)("input",{className:"form-control",type:"text",placeholder:"URL of profile picture",name:"imageURL",value:e.values.imageURL,onChange:e.handleChange})}),Object(d.jsx)("fieldset",{className:"form-group",children:Object(d.jsx)("input",{className:"form-control form-control-lg",type:"text",placeholder:"Username",name:"username",value:e.values.username,onChange:e.handleChange})}),Object(d.jsx)("fieldset",{className:"form-group",children:Object(d.jsx)("textarea",{className:"form-control form-control-lg",placeholder:"Short bio about you",rows:6,name:"bio",value:e.values.bio,onChange:e.handleChange})}),Object(d.jsx)("fieldset",{className:"form-group",children:Object(d.jsx)("input",{className:"form-control form-control-lg",type:"text",placeholder:"Email",name:"email",value:e.values.email,onChange:e.handleChange})}),Object(d.jsx)("fieldset",{className:"form-group",children:Object(d.jsx)("input",{className:"form-control form-control-lg",type:"password",placeholder:"Password",name:"password",value:e.values.password,onChange:e.handleChange})}),Object(d.jsx)("button",{className:"btn btn-lg btn-primary pull-xs-right",children:"Update Settings"})]})})}));function Q(){var e=Object(v.g)(),t=Object(g.b)();return Object(d.jsxs)("div",{children:[Object(d.jsx)("hr",{}),Object(d.jsx)("button",{className:"btn btn-outline-danger","ng-click":"$ctrl.logout()",onClick:function(){window.localStorage.removeItem("jwtToken"),t(F()),e.push("/")},children:"Or click here to logout."})]})}function H(){return Object(d.jsx)("div",{className:"settings-page",children:Object(d.jsx)("div",{className:"container page",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"col-md-6 offset-md-3 col-xs-12",children:[Object(d.jsx)("h1",{className:"text-xs-center",children:"Your Settings"}),Object(d.jsx)(Z,{}),Object(d.jsx)(Q,{})]})})})})}var $=n(320),_=n(317),ee=n(316),te=n(314),ne=n(315),ae=n(313),ce=function(e){var t=e.open,n=(e.setOpen,e.handleAgree),a=e.handleClose;return Object(d.jsx)("div",{children:Object(d.jsxs)(_.a,{open:t,onClose:a,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(d.jsx)(ae.a,{id:"alert-dialog-title",children:"Successful Alert"}),Object(d.jsx)(te.a,{children:Object(d.jsx)(ne.a,{id:"alert-dialog-description",children:"You are successful in deleting!"})}),Object(d.jsxs)(ee.a,{children:[Object(d.jsx)($.a,{onClick:function(){console.log("I do not agree."),a()},color:"primary",children:"Disagree"}),Object(d.jsx)($.a,{onClick:n,color:"primary",autoFocus:!0,children:"Agree"})]})]})})},se=function(e,t){return b.a.get("".concat(m,"/api/articles/").concat(e,"/comments"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})};function ie(e){var t=e.getComment,n=Object(a.useState)(""),c=Object(i.a)(n,2),s=c[0],o=c[1],r=Object(g.c)((function(e){var t;return null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.data}));return Object(d.jsxs)("div",{children:[Object(d.jsxs)("form",{className:"comment-form form",onSubmit:function(e){e.preventDefault(),s&&(t(s),o(""))},children:[Object(d.jsx)("fieldset",{className:"form-group",children:Object(d.jsx)("textarea",{rows:3,className:"form-control",placeholder:"Write your comment",value:s,onChange:function(e){return o(e.target.value)}})}),Object(d.jsxs)("div",{className:"card-footer",children:[Object(d.jsx)("img",{src:(null===r||void 0===r?void 0:r.image)?r.image:"https://static.productionready.io/images/smiley-cyrus.jpg",className:"comment-author-img",alt:""}),Object(d.jsx)("button",{type:"submit",className:"btn btn-sm btn-primary",children:"Post Comment"})]})]}),Object(d.jsx)("br",{})]})}function oe(e){var t=e.slug,n=window.localStorage.getItem("jwtToken"),c=Object(a.useState)(),s=Object(i.a)(c,2),o=s[0],r=s[1],l=Object(g.c)((function(e){var t;return null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.data}));Object(a.useEffect)((function(){n?se(t,n).then((function(e){r(e.data.comments)})):function(e){return b.a.get("".concat(m,"/api/articles/").concat(e,"/comments"),{headers:{"Content-Type":"application/json"}})}(t).then((function(e){r(e.data.comments)}))}),[]);var u=Object(a.useState)(),j=Object(i.a)(u,2),h=j[0],v=j[1],p=Object(a.useState)(!1),O=Object(i.a)(p,2),f=O[0],N=O[1],w=function(){N(!1)};return Object(d.jsxs)("div",{className:"article-page",children:[Object(d.jsx)(ce,{open:f,setOpen:N,slug:t,token:n,handleAgree:function(){(function(e,t,n){return b.a.delete("".concat(m,"/api/articles/").concat(t,"/comments/").concat(e),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}})})(h,t,n).then((function(e){se(t,n).then((function(e){r(e.data.comments)}))})),w()},handleClose:w}),Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"col-xs-12 col-md-8 offset-md-2",children:[n?Object(d.jsx)(ie,{getComment:function(e){(function(e,t,n){return b.a.post("".concat(m,"/api/articles/").concat(t,"/comments"),{comment:{body:e}},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}})})(e,t,n).then((function(e){se(t,n).then((function(e){r(e.data.comments)}))}))}}):Object(d.jsx)("div",{}),null===o||void 0===o?void 0:o.map((function(e){var t,n,a,c;return Object(d.jsxs)("div",{className:"card",children:[Object(d.jsx)("div",{className:"card-block",children:Object(d.jsx)("p",{className:"card-text",children:null===e||void 0===e?void 0:e.body})}),Object(d.jsxs)("div",{className:"card-footer",children:[Object(d.jsx)("img",{src:(null===e||void 0===e||null===(t=e.author)||void 0===t?void 0:t.image)?e.author.image:"https://static.productionready.io/images/smiley-cyrus.jpg",className:"comment-author-img",alt:""}),"\xa0",Object(d.jsx)(x.c,{className:"nav-link comment-author",to:"/profile/"+(null===e||void 0===e||null===(n=e.author)||void 0===n?void 0:n.username),activeClassName:"selected",children:null===e||void 0===e||null===(a=e.author)||void 0===a?void 0:a.username}),Object(d.jsx)("span",{className:"date-posted",children:null===e||void 0===e?void 0:e.updatedAt}),(null===l||void 0===l?void 0:l.username)===(null===e||void 0===e||null===(c=e.author)||void 0===c?void 0:c.username)?Object(d.jsx)("span",{className:"mod-options",children:Object(d.jsx)("i",{className:"ion-trash-a",onClick:function(){return function(e){N(!0),v(e)}(null===e||void 0===e?void 0:e.id)}})}):Object(d.jsx)("span",{})]})]},null===e||void 0===e?void 0:e.id)}))]})})]})}function re(){var e,t,n,c,s,o,r=Object(v.h)().slug,l=window.localStorage.getItem("jwtToken"),u=Object(a.useState)(),j=Object(i.a)(u,2),p=j[0],O=j[1],f=Object(a.useState)(!1),g=Object(i.a)(f,2),N=g[0],w=g[1],C=Object(a.useState)(null===p||void 0===p?void 0:p.favoritesCount),y=Object(i.a)(C,2),A=y[0],T=y[1],U=Object(a.useState)(),I=Object(i.a)(U,2),E=I[0],L=I[1],z=Object(a.useState)(),B=Object(i.a)(z,2),P=B[0],q=B[1],F=Object(a.useState)(!1),R=Object(i.a)(F,2),Y=R[0],V=R[1],W=Object(v.g)();Object(a.useEffect)((function(){l?function(e,t){return b.a.get("".concat(m,"/api/articles/").concat(e),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})}(r,l).then((function(e){var t,n;O(e.data.article),L(null===(t=e.data.article)||void 0===t?void 0:t.favorited),T(null===(n=e.data.article)||void 0===n?void 0:n.favoritesCount),h(l).then((function(t){t.data.user.username==e.data.article.author.username?w(!0):w(!1)})),M(l,e.data.article.author.username).then((function(e){e.data.profile.following?q(!0):q(!1)}))})):function(e){return b.a.get("".concat(m,"/api/articles/").concat(e),{headers:{"Content-Type":"application/json"}})}(r).then((function(e){O(e.data.article)}))}),[r,l]);var X=function(){V(!1)};return Object(d.jsxs)("div",{className:"article-page",children:[Object(d.jsx)(ce,{open:Y,setOpen:V,slug:r,token:l,handleAgree:function(){(function(e,t){return b.a.delete("".concat(m,"/api/articles/").concat(e),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})})(r,l).then((function(e){W.push("")})),X()},handleClose:X}),Object(d.jsx)("div",{className:"banner",children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("h1",{children:null===p||void 0===p?void 0:p.title}),Object(d.jsxs)("div",{className:"article-meta",children:[Object(d.jsx)("img",{src:(null===p||void 0===p||null===(e=p.author)||void 0===e?void 0:e.image)?p.author.image:"https://static.productionready.io/images/smiley-cyrus.jpg",alt:""}),Object(d.jsxs)("div",{className:"info",children:[Object(d.jsx)(x.c,{to:"/profile/"+(null===p||void 0===p||null===(t=p.author)||void 0===t?void 0:t.username),children:Object(d.jsx)("h5",{children:null===p||void 0===p||null===(n=p.author)||void 0===n?void 0:n.username})}),Object(d.jsx)("span",{className:"date",children:null===p||void 0===p?void 0:p.updatedAt})]}),l?Object(d.jsx)("div",{children:N?Object(d.jsxs)("div",{children:[Object(d.jsx)(x.c,{to:"/editor/"+(null===p||void 0===p?void 0:p.slug),children:Object(d.jsxs)("button",{className:"btn btn-sm btn-outline-secondary",children:[Object(d.jsx)("i",{className:"ion-edit"}),"\xa0 Edit Article"]})}),"\xa0\xa0",Object(d.jsxs)("button",{className:"btn btn-sm btn-outline-danger",onClick:function(){V(!0)},children:[Object(d.jsx)("i",{className:"ion-trash-a"}),"\xa0 Delete Article"]})]}):Object(d.jsxs)("div",{children:[Object(d.jsxs)("button",{className:"btn btn-sm btn-outline-secondary",onClick:function(){var e,t;return t=null===p||void 0===p||null===(e=p.author)||void 0===e?void 0:e.username,void(P?K(l,t).then((function(e){q(!1)})):D(l,t).then((function(e){q(!0)})))},children:[P?Object(d.jsx)("i",{}):Object(d.jsx)("i",{className:"ion-plus-round"}),"\xa0"," ",P?"Unfollow ".concat(null===p||void 0===p||null===(c=p.author)||void 0===c?void 0:c.username):"Follow ".concat(null===p||void 0===p||null===(s=p.author)||void 0===s?void 0:s.username),Object(d.jsx)("span",{className:"counter"})]}),"\xa0\xa0",Object(d.jsxs)("button",{className:E?"btn btn-sm btn-primary":"btn btn-sm btn-outline-primary",onClick:function(){return function(e){E?S(l,e).then((function(e){var t;T(null===(t=e.data.article)||void 0===t?void 0:t.favoritesCount),L(!1)})):k(l,e).then((function(e){var t;T(null===(t=e.data.article)||void 0===t?void 0:t.favoritesCount),L(!0)}))}(null===p||void 0===p?void 0:p.slug)},children:[E?Object(d.jsx)("i",{}):Object(d.jsx)("i",{className:"ion-heart"}),"\xa0 ",E?"Unfavorite Post":"Favorite Post",Object(d.jsxs)("span",{className:"counter",children:["(",A,")"]})]})]})}):Object(d.jsx)("div",{})]})]})}),Object(d.jsxs)("div",{className:"container page",children:[Object(d.jsx)("div",{className:"row article-content",children:Object(d.jsx)("div",{className:"col-xs-12",children:Object(d.jsx)("p",{children:null===p||void 0===p?void 0:p.body})})}),Object(d.jsx)("div",{className:"tag-list",children:null===p||void 0===p||null===(o=p.tagList)||void 0===o?void 0:o.map((function(e){return Object(d.jsx)("span",{"ng-repeat":"tag in $ctrl.article.tagList",className:"tag-default tag-pill ng-binding ng-scope",children:e},e)}))}),Object(d.jsx)("hr",{}),Object(d.jsx)(oe,{slug:r})]})]})}var le=Object(r.a)({mapPropsToValues:function(){return{username:"",email:"",password:""}},validationSchema:l.a().shape({username:l.b().required("Username is required"),email:l.b().email().required("Email is required"),password:l.b().required("Please provide a valid password")}),handleSubmit:function(){}})((function(e){var t=Object(g.b)(),n=Object(v.g)(),c=Object(a.useState)(),s=Object(i.a)(c,2),o=s[0],r=s[1];return Object(d.jsxs)("form",{onSubmit:function(a){a.preventDefault();var c,s=e.values,i=s.username,o=s.email,l=s.password;(c={username:i,email:o,password:l},b.a.post("".concat(m,"/api/users"),{user:{username:c.username,email:c.email,password:c.password},"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":!0},{headers:{"Content-Type":"application/json"}})).then((function(e){var a,c=null===(a=e.data)||void 0===a?void 0:a.user;t(q.saveUserInStoreSuccess(c)),window.localStorage.setItem("jwtToken",c.token),n.push("/")})).catch((function(e){var t,n,a,c=Object(J.a)({},null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.errors);c.hasOwnProperty("username")?r(c):(null===(a=c.error)||void 0===a?void 0:a.keyPattern.hasOwnProperty("username"))?r({errors:"Username is already taken"}):r({errors:"Email is already taken"})}))},children:[Object(d.jsxs)("fieldset",{className:"form-group",children:[o&&Object.keys(o).map((function(e,t){return Object(d.jsx)("div",{children:Object(d.jsxs)("p",{className:"error-messages",children:["* ",o[e]]})},t)})),Object(d.jsx)("p",{className:"error-messages",children:e.errors.username}),Object(d.jsx)("input",{className:"form-control form-control-lg",type:"text",placeholder:"Username",name:"username",value:e.values.username,onChange:e.handleChange})]}),Object(d.jsxs)("fieldset",{className:"form-group",children:[Object(d.jsx)("p",{className:"error-messages",children:e.errors.email}),Object(d.jsx)("input",{className:"form-control form-control-lg",type:"text",placeholder:"Email",name:"email",value:e.values.email,onChange:e.handleChange})]}),Object(d.jsxs)("fieldset",{className:"form-group",children:[Object(d.jsx)("p",{className:"error-messages",children:e.errors.password}),Object(d.jsx)("input",{className:"form-control form-control-lg",type:"password",placeholder:"Password",name:"password",value:e.values.password,onChange:e.handleChange})]}),Object(d.jsx)("button",{className:"btn btn-lg btn-primary pull-xs-right",disabled:!e.isValid||!e.values.email,children:"Sign up"})]})}));function de(){return Object(d.jsx)("div",{className:"auth-page",children:Object(d.jsx)("div",{className:"container page",children:Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("div",{className:"col-md-6 offset-md-3 col-xs-12",children:[Object(d.jsx)("h1",{className:"text-xs-center",children:"Sign up"}),Object(d.jsx)("p",{className:"text-xs-center",children:Object(d.jsx)(x.b,{to:"/login",children:"Have an account?"})}),Object(d.jsx)(le,{})]})})})})}var ue=n(34),je=["Component","auth"],be=function(e){var t=e.Component,n=e.auth,a=Object(ue.a)(e,je);return Object(d.jsx)(v.b,Object(J.a)(Object(J.a)({},a),{},{render:function(e){return(null===n||void 0===n?void 0:n.length)>0?Object(d.jsx)(t,{}):Object(d.jsx)(v.a,{to:"/",exact:!0})}}))};var me=function(){var e=Object(g.b)(),t=Object(g.c)((function(e){var t;return null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.data})),n=Object(a.useState)(!1),c=Object(i.a)(n,2),s=c[0],o=c[1],r=window.localStorage.getItem("jwtToken");return Object(a.useEffect)((function(){r&&!(null===t||void 0===t?void 0:t.username)&&h(r).then((function(t){var n=t.data.user;e(q.saveUserInStoreSuccess(n))}))}),[r,t,e]),Object(a.useEffect)((function(){var e=window.localStorage.getItem("jwtToken");o(!!e)}),[t]),Object(d.jsxs)(x.a,{basename:"/conduit",children:[Object(d.jsx)(C,{userToken:s}),Object(d.jsxs)(v.d,{children:[Object(d.jsx)(v.b,{exact:!0,path:"/",children:Object(d.jsx)(L,{userToken:s})}),Object(d.jsx)(v.b,{path:"/login",children:Object(d.jsx)(Y,{})}),Object(d.jsx)(v.b,{path:"/register",children:Object(d.jsx)(de,{})}),Object(d.jsx)(be,{path:"/register",auth:!window.localStorage.getItem("jwtToken"),Component:de}),Object(d.jsx)(be,{exact:!0,path:"/editor",auth:window.localStorage.getItem("jwtToken"),Component:p}),Object(d.jsx)(be,{path:"/editor/:slug",auth:window.localStorage.getItem("jwtToken"),Component:p}),Object(d.jsx)(be,{path:"/settings",auth:window.localStorage.getItem("jwtToken"),Component:H}),Object(d.jsx)(be,{path:"/profile/:slug",auth:window.localStorage.getItem("jwtToken"),Component:G}),Object(d.jsx)(v.b,{path:"/article/:slug",children:Object(d.jsx)(re,{})}),Object(d.jsx)(v.a,{to:"/"})]}),Object(d.jsx)(O,{})]})},he=n(61),ve=n(143),pe=n(94),Oe=n.n(pe),fe=n(144),ge=Oe.a.mark(xe);function xe(){return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(fe.a)([]);case 2:case"end":return e.stop()}}),ge)}var Ne=xe;var we=Object(he.b)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y.user,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P(q.saveUserInStoreRequest):return Object(J.a)(Object(J.a)({},e),{},{isLoading:!0});case P(q.saveUserInStoreSuccess):return Object(J.a)(Object(J.a)({},e),{},{isLoading:!1,data:t.payload});case P(q.saveUserInStoreFailure):return Object(J.a)(Object(J.a)({},e),{},{isLoading:!1});case"DELETE_USER":return Object(J.a)(Object(J.a)({},e),{},{isLoading:!1,data:{}});default:return e}}}),Ce=Object(ve.a)(),ye=Object(he.c)(we,Object(he.a)(Ce));Ce.run(Ne),s.a.render(Object(d.jsx)(g.a,{store:ye,children:Object(d.jsx)(me,{})}),document.getElementById("root"))}},[[286,1,2]]]);
//# sourceMappingURL=main.c97e1cd6.chunk.js.map